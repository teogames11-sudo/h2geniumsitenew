.heroRoot {
  position: relative;
  width: calc(100vw / var(--app-scale));
  min-width: calc(100vw / var(--app-scale));
  height: calc(100vh / var(--app-scale));
  min-height: calc(100svh / var(--app-scale));
  min-height: calc(100dvh / var(--app-scale));
  overflow: hidden;
  margin: 0;
  padding: 0;
  background: #000;
  color: #eef6ff;
  pointer-events: auto;
  isolation: isolate;
  --side-inset: clamp(28px, 7vw, 160px);
  --ui-scale: 0.96;
  --tree-scale: 2.08;
  --mx: 0px;
  --my: 0px;
  --nav-plane-tilt: 60deg;
  --horizon-y: 50%;
  --nav-center-offset: 620px; /* centerY offset */
  --video-bleed: clamp(24px, 2.6vw, 72px);
  --neon-1: #7fe7ff;
  --neon-2: #3ccbff;
  --neon-3: #b7f3ff;
  --glass-border: rgba(170, 230, 255, 0.32);
  --glass-fill: rgba(255, 255, 255, 0.12);
  --glow-strong: rgba(79, 210, 255, 0.7);
  --glow-soft: rgba(79, 210, 255, 0.36);
  --city-mask-far: url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%201200%20260%27%20preserveAspectRatio%3D%27none%27%3E%3Cpath%20fill%3D%27white%27%20d%3D%27M0%20260%20L0%20216%20L28%20216%20L28%20170%20L56%20170%20L56%20226%20L86%20226%20L86%20150%20L118%20150%20L118%20236%20L150%20236%20L150%20134%20L182%20134%20L182%20214%20L206%20214%20L206%20174%20L236%20174%20L236%20242%20L270%20242%20L270%20122%20L302%20122%20L302%20206%20L330%20206%20L330%20162%20L358%20162%20L358%20230%20L388%20230%20L388%2098%20L418%2098%20L418%20214%20L448%20214%20L448%20168%20L476%20168%20L476%20240%20L508%20240%20L508%20142%20L534%20142%20L534%20210%20L560%20210%20L560%20118%20L586%20118%20L586%20224%20L616%20224%20L616%20154%20L646%20154%20L646%20238%20L676%20238%20L676%20126%20L708%20126%20L708%20208%20L734%20208%20L734%20162%20L764%20162%20L764%20230%20L794%20230%20L794%20104%20L824%20104%20L824%20210%20L854%20210%20L854%20150%20L882%20150%20L882%20236%20L914%20236%20L914%20118%20L944%20118%20L944%20206%20L970%20206%20L970%20166%20L1000%20166%20L1000%20240%20L1032%20240%20L1032%20130%20L1060%20130%20L1060%20216%20L1088%20216%20L1088%20176%20L1120%20176%20L1120%20230%20L1150%20230%20L1150%20194%20L1200%20194%20L1200%20260%20Z%27/%3E%3C/svg%3E");
  --city-mask-mid: url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%201200%20260%27%20preserveAspectRatio%3D%27none%27%3E%3Cpath%20fill%3D%27white%27%20d%3D%27M0%20260%20L0%20200%20L24%20200%20L24%20150%20L48%20150%20L48%20210%20L80%20210%20L80%20130%20L112%20130%20L112%20232%20L144%20232%20L144%20160%20L170%20160%20L170%20244%20L204%20244%20L204%20112%20L234%20112%20L234%20214%20L258%20214%20L258%20170%20L286%20170%20L286%20232%20L320%20232%20L320%2090%20L350%2090%20L350%20206%20L380%20206%20L380%20150%20L408%20150%20L408%20220%20L440%20220%20L440%2070%20L468%2070%20L468%20196%20L498%20196%20L498%20142%20L526%20142%20L526%20236%20L560%20236%20L560%20102%20L590%20102%20L590%20210%20L618%20210%20L618%20160%20L646%20160%20L646%20244%20L678%20244%20L678%20120%20L706%20120%20L706%20204%20L734%20204%20L734%20150%20L764%20150%20L764%20222%20L796%20222%20L796%2082%20L826%2082%20L826%20194%20L854%20194%20L854%20142%20L884%20142%20L884%20234%20L916%20234%20L916%20110%20L946%20110%20L946%20204%20L974%20204%20L974%20152%20L1004%20152%20L1004%20242%20L1036%20242%20L1036%20130%20L1064%20130%20L1064%20214%20L1092%20214%20L1092%20168%20L1122%20168%20L1122%20232%20L1150%20232%20L1150%20190%20L1200%20190%20L1200%20260%20Z%27/%3E%3C/svg%3E");
}

.heroClip {
  position: absolute;
  inset: 0;
  overflow: hidden;
  display: grid;
  grid-template-rows: 1fr auto;
  align-items: stretch;
  justify-items: stretch;
  z-index: 0;
}

.videoWrap {
  position: absolute;
  inset: calc(-1 * var(--video-bleed));
  z-index: 0; /* Base layer under FX/UI. */
  overflow: hidden;
  pointer-events: none;
  background: radial-gradient(120% 120% at 50% 20%, rgba(12, 26, 44, 0.65), rgba(4, 8, 14, 0.95));
}

.heroVideo {
  position: absolute;
  inset: calc(-1 * var(--video-bleed));
  width: calc(100% + (var(--video-bleed) * 2));
  height: calc(100% + (var(--video-bleed) * 2));
  object-fit: cover;
  object-position: center;
  z-index: 0;
  transform: translateZ(0);
  pointer-events: none;
  opacity: 0;
  filter: blur(0) saturate(1.18) brightness(1.08) contrast(1.04);
  transition: opacity 0ms linear, filter 900ms ease;
  will-change: opacity, filter;
}

.heroVideo[data-active="true"] {
  opacity: 1;
}


.videoOverlay {
  position: absolute;
  inset: 0;
  z-index: 1;
  pointer-events: none;
  background:
    radial-gradient(120% 100% at 50% 40%, rgba(0, 0, 0, 0.06), rgba(0, 0, 0, 0.58)),
    linear-gradient(180deg, rgba(0, 0, 0, 0.18), rgba(0, 0, 0, 0.4));
  opacity: 1;
  transition: opacity 900ms ease;
}

.videoBloom {
  position: absolute;
  inset: -6%;
  z-index: 1;
  pointer-events: none;
  background:
    radial-gradient(60% 60% at 52% 30%, rgba(140, 235, 255, 0.22), rgba(60, 170, 255, 0.08) 45%, transparent 70%),
    radial-gradient(40% 50% at 64% 72%, rgba(70, 220, 200, 0.2), transparent 70%);
  mix-blend-mode: screen;
  filter: blur(18px) saturate(1.2);
  opacity: 0.38;
  transition: opacity 900ms ease;
}

.starField {
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  height: 68%;
  z-index: 2;
  pointer-events: none;
  overflow: hidden;
  transform: translate3d(calc(var(--mx) * 0.2), calc(var(--my) * 0.2), 0);
}

.starParticle {
  position: absolute;
  left: var(--star-x, 50%);
  top: var(--star-y, 50%);
  width: var(--star-size, 2px);
  height: var(--star-size, 2px);
  border-radius: 999px;
  background: radial-gradient(circle, rgba(246, 255, 255, 1), rgba(180, 240, 255, 0.75) 60%, transparent 100%);
  opacity: var(--star-opacity, 0.9);
  filter: blur(var(--star-blur, 0px));
  box-shadow:
    0 0 14px rgba(170, 240, 255, 0.6),
    0 0 26px rgba(120, 220, 255, 0.5);
  transform: translate3d(var(--star-offset-x, 0px), var(--star-offset-y, 0px), 0);
  animation:
    starTwinkle var(--star-twinkle-duration, 3.8s) ease-in-out infinite,
    starFloat var(--star-float-duration, 12s) ease-in-out infinite;
  animation-delay: var(--star-twinkle-delay, 0s);
  will-change: transform, opacity, filter;
}

.videoGrade {
  position: absolute;
  inset: 0;
  pointer-events: none;
  background:
    linear-gradient(180deg, rgba(6, 12, 20, 0.18) 0%, rgba(6, 12, 20, 0.14) 48%, rgba(4, 8, 14, 0.32) 100%),
    radial-gradient(60% 50% at 50% 65%, rgba(20, 70, 90, 0.14), rgba(5, 10, 18, 0) 70%);
}

.videoVignette {
  position: absolute;
  inset: -6%;
  pointer-events: none;
  background:
    radial-gradient(110% 110% at 50% 40%, rgba(6, 10, 18, 0) 45%, rgba(4, 8, 12, 0.7) 100%),
    linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(2, 4, 8, 0.7) 100%);
  opacity: 0.26;
  transition: opacity 900ms ease;
}

.heroRoot[data-video-state="enter"] .heroVideo {
  opacity: 1;
  filter: blur(0) saturate(1.22) brightness(1.1) contrast(1.05);
}

.heroRoot[data-video-state="exit"] .heroVideo {
  opacity: 1;
  filter: blur(0) saturate(1.15) brightness(1.05) contrast(1.03);
}

.heroRoot[data-video-state="enter"] .videoBloom {
  opacity: 0.5;
}

.heroRoot[data-video-state="ready"] .videoBloom {
  opacity: 0.28;
}

.heroRoot[data-video-state="exit"] .videoBloom {
  opacity: 0.85;
}

.heroRoot[data-video-state="exit"] .videoOverlay {
  opacity: 0.85;
}

.heroRoot[data-video-state="exit"] .videoVignette {
  opacity: 0.7;
}

.scene {
  position: relative;
  display: grid;
  place-items: center;
  min-height: 0;
  margin: 0;
  z-index: 1;
  pointer-events: none;
  transform: scale(var(--ui-scale));
  transform-origin: center top;
}

.skyHalf {
  position: absolute;
  inset: 0 0 50% 0;
  z-index: 1;
  overflow: hidden;
  pointer-events: none;
  background:
    radial-gradient(1200px 720px at 18% 16%, rgba(20, 80, 140, 0.4), transparent 64%),
    radial-gradient(980px 620px at 82% 18%, rgba(18, 110, 155, 0.32), transparent 66%),
    radial-gradient(720px 520px at 50% 78%, rgba(14, 70, 120, 0.24), transparent 68%),
    linear-gradient(180deg, #01040b 0%, #040b16 58%, #050b16 100%);
}

.skyHalf::before,
.skyHalf::after {
  content: "";
  position: absolute;
  inset: -10%;
  background:
    radial-gradient(220px 220px at 18% 20%, rgba(126, 231, 255, 0.14), transparent 64%),
    radial-gradient(280px 280px at 84% 22%, rgba(60, 203, 255, 0.12), transparent 66%),
    radial-gradient(360px 360px at 50% 78%, rgba(183, 243, 255, 0.1), transparent 70%);
  opacity: 0.45;
  transform: translate3d(0, 0, 0);
}

.skyHalf::after {
  opacity: 0.28;
  transform: translate3d(10px, -8px, 0);
}

.stars {
  position: absolute;
  inset: 0;
  z-index: 2;
  pointer-events: none;
  transform: translate3d(calc(var(--mx) * 0.55), calc(var(--my) * 0.55), 0);
  transition: transform 320ms cubic-bezier(0.22, 1, 0.36, 1);
  opacity: 1;
  -webkit-mask-image: linear-gradient(180deg, rgba(0, 0, 0, 1) 0%, rgba(0, 0, 0, 0.7) 70%, rgba(0, 0, 0, 0) 100%);
  mask-image: linear-gradient(180deg, rgba(0, 0, 0, 1) 0%, rgba(0, 0, 0, 0.7) 70%, rgba(0, 0, 0, 0) 100%);
}

.landHalf {
  position: absolute;
  inset: 50% 0 0 0;
  overflow: hidden;
  z-index: 2;
  pointer-events: none;
}

.land3d {
  position: absolute;
  left: 50%;
  top: -18%;
  width: 140vw;
  height: 180%;
  z-index: 1;
  background:
    radial-gradient(900px 520px at 28% 26%, rgba(80, 140, 170, 0.35), rgba(0, 0, 0, 0) 70%),
    radial-gradient(1000px 560px at 72% 22%, rgba(50, 110, 150, 0.28), rgba(0, 0, 0, 0) 72%),
    radial-gradient(1200px 600px at 50% 20%, rgba(60, 120, 150, 0.35), rgba(0, 0, 0, 0) 60%),
    linear-gradient(180deg, rgba(10, 30, 50, 0), rgba(5, 12, 20, 0.6)),
    repeating-linear-gradient(115deg, rgba(40, 90, 110, 0.18) 0 26px, rgba(20, 50, 70, 0.1) 26px 68px),
    repeating-linear-gradient(25deg, rgba(30, 70, 90, 0.12) 0 38px, rgba(10, 25, 40, 0.08) 38px 92px);
  transform: translateX(-50%) perspective(1400px) rotateX(68deg) scale(1.25);
  transform-origin: 50% 0%;
  -webkit-mask-image: radial-gradient(120% 90% at 50% 0%, #000 40%, transparent 92%);
  mask-image: radial-gradient(120% 90% at 50% 0%, #000 40%, transparent 92%);
  pointer-events: none;
}

.land3d::before {
  content: "";
  position: absolute;
  inset: -12% -4% 0;
  background:
    radial-gradient(70% 50% at 20% 36%, rgba(120, 190, 210, 0.25), rgba(0, 0, 0, 0) 70%),
    radial-gradient(80% 60% at 80% 34%, rgba(90, 160, 190, 0.22), rgba(0, 0, 0, 0) 72%),
    repeating-radial-gradient(circle at 50% 0%, rgba(140, 210, 230, 0.12) 0 2px, transparent 2px 30px);
  opacity: 0.7;
  mix-blend-mode: screen;
  transform: translateY(-6%);
  pointer-events: none;
}

.land3d::after {
  content: "";
  position: absolute;
  inset: 0;
  background: linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(4, 8, 14, 0.45) 60%, rgba(3, 6, 12, 0.85) 100%);
  opacity: 0.9;
  pointer-events: none;
}

.river {
  position: absolute;
  left: -10vw;
  top: 56%;
  width: 110vw;
  height: 140%;
  z-index: 2;
  background: radial-gradient(closest-side at 30% 50%, rgba(180, 240, 255, 0.35), rgba(0, 0, 0, 0) 65%);
  transform: translateY(-45%) perspective(1400px) rotateX(68deg);
  transform-origin: 0 0;
  opacity: 0.9;
  filter: drop-shadow(0 0 12px rgba(120, 220, 255, 0.25));
  pointer-events: none;
}

.river::before {
  content: "";
  position: absolute;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%201400%20700%27%20preserveAspectRatio%3D%27none%27%3E%3Cpath%20d%3D%27M0%20640%20C180%20620%20260%20520%20360%20500%20S560%20430%20660%20380%20S900%20260%201120%20180%20S1320%20110%201400%2060%27%20stroke%3D%27rgb%28120%2C220%2C255%29%27%20stroke-opacity%3D%270.28%27%20stroke-width%3D%2790%27%20fill%3D%27none%27%20stroke-linecap%3D%27round%27/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-size: 100% 100%;
  background-position: left bottom;
  filter: drop-shadow(0 0 12px rgba(120, 220, 255, 0.35));
  mix-blend-mode: screen;
  opacity: 0.85;
  pointer-events: none;
}

.contours {
  position: absolute;
  inset: 0;
  z-index: 3;
  pointer-events: none;
}

/* Layer stack (z-index): sky -> stars -> horizon/city -> field -> mapLines -> tree/orbits -> UI text -> nav tiles -> vignette. */
.skyLayer,
.starsLayer,
.horizonLayer,
.fieldLayer,
.mapLinesLayer,
.treeLayer,
.uiLayer,
.fxLayer {
  position: absolute;
  inset: 0;
  pointer-events: none;
}

.navDock {
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 20;
  pointer-events: auto;
  display: flex;
  justify-content: center;
  transform: translateY(-140px);
  transition: opacity 420ms ease, transform 420ms cubic-bezier(0.22, 1, 0.36, 1);
}

.navDock::before {
  content: "";
  position: absolute;
  left: 50%;
  top: 50%;
  width: min(1000px, 92vw);
  height: 240px;
  transform: translate(-50%, -50%);
  pointer-events: none;
  background: radial-gradient(closest-side, rgba(0, 0, 0, 0.55), rgba(0, 0, 0, 0));
  filter: blur(2px);
}

.navDock::after {
  content: "";
  position: absolute;
  left: 50%;
  top: 50%;
  width: min(760px, 84vw);
  height: 160px;
  transform: translate(-50%, -50%);
  pointer-events: none;
  background: radial-gradient(closest-side, rgba(47, 183, 255, 0.28), rgba(0, 0, 0, 0));
  filter: blur(10px);
  opacity: 0;
  transition: opacity 180ms ease, filter 180ms ease;
}

.heroRoot[data-nav-hover="true"] .navDock::after {
  opacity: 0.85;
  filter: blur(5px);
}

.heroRoot[data-nav-hover="true"] .navDockWires {
  opacity: 0.85;
  filter: blur(3px);
}

.navDockItems {
  position: relative;
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: center;
  gap: clamp(12px, 2vw, 22px);
  width: min(1100px, 92vw);
  padding: 0 clamp(16px, 4vw, 80px);
  z-index: 1;
}

.navDockWires {
  position: absolute;
  left: 50%;
  top: 50%;
  width: min(920px, 90vw);
  height: 220px;
  transform: translate(-50%, -50%);
  opacity: 0.22;
  pointer-events: none;
  z-index: 0;
  background:
    radial-gradient(60% 100% at 50% 90%, rgba(120, 220, 255, 0.18), rgba(0, 0, 0, 0) 70%),
    repeating-linear-gradient(
      100deg,
      rgba(120, 220, 255, 0.15) 0 1px,
      rgba(0, 0, 0, 0) 1px 48px
    ),
    linear-gradient(120deg, rgba(120, 220, 255, 0), rgba(120, 220, 255, 0.35), rgba(120, 220, 255, 0));
  mask-image: radial-gradient(ellipse at center, rgba(0, 0, 0, 1) 0%, rgba(0, 0, 0, 0) 70%);
  -webkit-mask-image: radial-gradient(ellipse at center, rgba(0, 0, 0, 1) 0%, rgba(0, 0, 0, 0) 70%);
  mix-blend-mode: screen;
  filter: blur(7px);
  transition: opacity 240ms ease, filter 240ms ease;
  animation: navWiresFlow 8s linear infinite;
}

.navMorphPulse {
  position: absolute;
  left: 50%;
  top: 50%;
  width: min(860px, 86vw);
  height: 240px;
  transform: translate(-50%, -50%);
  pointer-events: none;
  z-index: 0;
  opacity: 0;
  background:
    radial-gradient(55% 80% at 50% 55%, rgba(180, 245, 255, 0.65), rgba(20, 60, 120, 0) 70%),
    radial-gradient(40% 60% at 50% 70%, rgba(65, 224, 196, 0.45), rgba(10, 30, 50, 0) 72%),
    linear-gradient(120deg, rgba(255, 255, 255, 0), rgba(140, 230, 255, 0.4), rgba(255, 255, 255, 0));
  mix-blend-mode: screen;
  filter: blur(14px);
}

.dockButton {
  letter-spacing: 0.14em;
}

.navRing {
  position: absolute;
  inset: 0;
  margin: 0;
  pointer-events: auto;
  z-index: 20;
  transform-style: preserve-3d;
  transform: perspective(1400px) rotateX(var(--nav-plane-tilt));
  transform-origin: 50% 82%;
  overflow: visible;
  --nav-label-tilt: calc(var(--nav-plane-tilt) * -1);
}

.navRingScrim {
  position: absolute;
  left: 50%;
  bottom: clamp(160px, 18vh, 240px);
  width: min(960px, 92vw);
  height: clamp(120px, 18vh, 180px);
  transform: translateX(-50%);
  background: radial-gradient(60% 100% at 50% 100%, rgba(6, 12, 20, 0.65), rgba(6, 12, 20, 0));
  opacity: 0.65;
  z-index: 0;
  pointer-events: none;
}

.navRingPlane {
  position: absolute;
  inset: 0;
  pointer-events: none;
  transform-style: preserve-3d;
  z-index: 1;
  transform:
    translate3d(calc(var(--mx) * 0.25), calc(var(--my) * 0.2), 0)
    perspective(1400px)
    rotateX(var(--nav-plane-tilt));
  transform-origin: 50% 80%;
}

.navRing .navButton {
  --nav-label-tilt: calc(var(--nav-plane-tilt) * -1);
}

.navRing a,
.navRing button {
  pointer-events: auto;
}

.arcNavDesktop {
  position: absolute;
  inset: 0;
}

.skyLayer {
  z-index: 1;
  top: 0;
  bottom: auto;
  height: 50%;
  background:
    radial-gradient(1200px 720px at 18% 16%, rgba(20, 80, 140, 0.4), transparent 64%),
    radial-gradient(980px 620px at 82% 18%, rgba(18, 110, 155, 0.32), transparent 66%),
    radial-gradient(720px 520px at 50% 78%, rgba(14, 70, 120, 0.24), transparent 68%),
    linear-gradient(180deg, #01040b 0%, #040b16 58%, #050b16 100%);
}

.skyLayer::before,
.skyLayer::after {
  content: "";
  position: absolute;
  inset: -10%;
  background:
    radial-gradient(220px 220px at 18% 20%, rgba(126, 231, 255, 0.14), transparent 64%),
    radial-gradient(280px 280px at 84% 22%, rgba(60, 203, 255, 0.12), transparent 66%),
    radial-gradient(360px 360px at 50% 78%, rgba(183, 243, 255, 0.1), transparent 70%);
  opacity: 0.45;
  transform: translate3d(0, 0, 0);
}

.skyLayer::after {
  opacity: 0.28;
  transform: translate3d(10px, -8px, 0);
}

.starsLayer {
  z-index: 2;
  top: 0;
  bottom: auto;
  height: 50%;
  transform: translate3d(calc(var(--mx) * 0.55), calc(var(--my) * 0.55), 0);
  transition: transform 320ms cubic-bezier(0.22, 1, 0.36, 1);
  opacity: 1;
  -webkit-mask-image: linear-gradient(180deg, rgba(0, 0, 0, 1) 0%, rgba(0, 0, 0, 0.7) 70%, rgba(0, 0, 0, 0) 100%);
  mask-image: linear-gradient(180deg, rgba(0, 0, 0, 1) 0%, rgba(0, 0, 0, 0.7) 70%, rgba(0, 0, 0, 0) 100%);
}

.horizonLayer {
  z-index: 3;
  --city-mask-far: url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%201200%20260%27%20preserveAspectRatio%3D%27none%27%3E%3Cpath%20fill%3D%27white%27%20d%3D%27M0%20260%20L0%20216%20L28%20216%20L28%20170%20L56%20170%20L56%20226%20L86%20226%20L86%20150%20L118%20150%20L118%20236%20L150%20236%20L150%20134%20L182%20134%20L182%20214%20L206%20214%20L206%20174%20L236%20174%20L236%20242%20L270%20242%20L270%20122%20L302%20122%20L302%20206%20L330%20206%20L330%20162%20L358%20162%20L358%20230%20L388%20230%20L388%2098%20L418%2098%20L418%20214%20L448%20214%20L448%20168%20L476%20168%20L476%20240%20L508%20240%20L508%20142%20L534%20142%20L534%20210%20L560%20210%20L560%20118%20L586%20118%20L586%20224%20L616%20224%20L616%20154%20L646%20154%20L646%20238%20L676%20238%20L676%20126%20L708%20126%20L708%20208%20L734%20208%20L734%20162%20L764%20162%20L764%20230%20L794%20230%20L794%20104%20L824%20104%20L824%20210%20L854%20210%20L854%20150%20L882%20150%20L882%20236%20L914%20236%20L914%20118%20L944%20118%20L944%20206%20L970%20206%20L970%20166%20L1000%20166%20L1000%20240%20L1032%20240%20L1032%20130%20L1060%20130%20L1060%20216%20L1088%20216%20L1088%20176%20L1120%20176%20L1120%20230%20L1150%20230%20L1150%20194%20L1200%20194%20L1200%20260%20Z%27/%3E%3C/svg%3E");
  --city-mask-mid: url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%201200%20260%27%20preserveAspectRatio%3D%27none%27%3E%3Cpath%20fill%3D%27white%27%20d%3D%27M0%20260%20L0%20200%20L24%20200%20L24%20150%20L48%20150%20L48%20210%20L80%20210%20L80%20130%20L112%20130%20L112%20232%20L144%20232%20L144%20160%20L170%20160%20L170%20244%20L204%20244%20L204%20112%20L234%20112%20L234%20214%20L258%20214%20L258%20170%20L286%20170%20L286%20232%20L320%20232%20L320%2090%20L350%2090%20L350%20206%20L380%20206%20L380%20150%20L408%20150%20L408%20220%20L440%20220%20L440%2070%20L468%2070%20L468%20196%20L498%20196%20L498%20142%20L526%20142%20L526%20236%20L560%20236%20L560%20102%20L590%20102%20L590%20210%20L618%20210%20L618%20160%20L646%20160%20L646%20244%20L678%20244%20L678%20120%20L706%20120%20L706%20204%20L734%20204%20L734%20150%20L764%20150%20L764%20222%20L796%20222%20L796%2082%20L826%2082%20L826%20194%20L854%20194%20L854%20142%20L884%20142%20L884%20234%20L916%20234%20L916%20110%20L946%20110%20L946%20204%20L974%20204%20L974%20152%20L1004%20152%20L1004%20242%20L1036%20242%20L1036%20130%20L1064%20130%20L1064%20214%20L1092%20214%20L1092%20168%20L1122%20168%20L1122%20232%20L1150%20232%20L1150%20190%20L1200%20190%20L1200%20260%20Z%27/%3E%3C/svg%3E");
}

.horizonHaze {
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  height: clamp(80px, 16vh, 170px);
  transform: translateY(-35%);
  background: linear-gradient(180deg, rgba(10, 16, 26, 0) 0%, rgba(16, 28, 40, 0.6) 40%, rgba(8, 14, 22, 0.9) 100%);
  opacity: 0.65;
  z-index: 4;
}

.cityRight {
  position: absolute;
  right: -6%;
  top: -12%;
  width: min(980px, 96vw);
  height: clamp(90px, 12vh, 160px);
  background: linear-gradient(180deg, rgba(18, 26, 38, 0.95) 0%, rgba(6, 10, 18, 0.98) 100%);
  opacity: 0.9;
  z-index: 5;
  -webkit-mask-image: var(--city-mask-far);
  mask-image: var(--city-mask-far);
  -webkit-mask-size: cover;
  mask-size: cover;
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
  -webkit-mask-position: right bottom;
  mask-position: right bottom;
  filter: drop-shadow(0 0 12px rgba(90, 140, 190, 0.2));
}

.cityRight::after {
  content: "";
  position: absolute;
  inset: -20% -10% 25%;
  background: radial-gradient(60% 80% at 70% 80%, rgba(255, 170, 110, 0.35), rgba(20, 20, 30, 0) 70%);
  opacity: 0.45;
  pointer-events: none;
}

.cityLayer {
  z-index: 3;
  opacity: 0.6;
  transform: translate3d(calc(var(--mx) * 0.35), calc(var(--my) * 0.22), 0);
  transition: transform 420ms cubic-bezier(0.22, 1, 0.36, 1);
  --city-mask-far: url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%201200%20260%27%20preserveAspectRatio%3D%27none%27%3E%3Cpath%20fill%3D%27white%27%20d%3D%27M0%20260%20L0%20216%20L28%20216%20L28%20170%20L56%20170%20L56%20226%20L86%20226%20L86%20150%20L118%20150%20L118%20236%20L150%20236%20L150%20134%20L182%20134%20L182%20214%20L206%20214%20L206%20174%20L236%20174%20L236%20242%20L270%20242%20L270%20122%20L302%20122%20L302%20206%20L330%20206%20L330%20162%20L358%20162%20L358%20230%20L388%20230%20L388%2098%20L418%2098%20L418%20214%20L448%20214%20L448%20168%20L476%20168%20L476%20240%20L508%20240%20L508%20142%20L534%20142%20L534%20210%20L560%20210%20L560%20118%20L586%20118%20L586%20224%20L616%20224%20L616%20154%20L646%20154%20L646%20238%20L676%20238%20L676%20126%20L708%20126%20L708%20208%20L734%20208%20L734%20162%20L764%20162%20L764%20230%20L794%20230%20L794%20104%20L824%20104%20L824%20210%20L854%20210%20L854%20150%20L882%20150%20L882%20236%20L914%20236%20L914%20118%20L944%20118%20L944%20206%20L970%20206%20L970%20166%20L1000%20166%20L1000%20240%20L1032%20240%20L1032%20130%20L1060%20130%20L1060%20216%20L1088%20216%20L1088%20176%20L1120%20176%20L1120%20230%20L1150%20230%20L1150%20194%20L1200%20194%20L1200%20260%20Z%27/%3E%3C/svg%3E");
  --city-mask-mid: url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%201200%20260%27%20preserveAspectRatio%3D%27none%27%3E%3Cpath%20fill%3D%27white%27%20d%3D%27M0%20260%20L0%20200%20L24%20200%20L24%20150%20L48%20150%20L48%20210%20L80%20210%20L80%20130%20L112%20130%20L112%20232%20L144%20232%20L144%20160%20L170%20160%20L170%20244%20L204%20244%20L204%20112%20L234%20112%20L234%20214%20L258%20214%20L258%20170%20L286%20170%20L286%20232%20L320%20232%20L320%2090%20L350%2090%20L350%20206%20L380%20206%20L380%20150%20L408%20150%20L408%20220%20L440%20220%20L440%2070%20L468%2070%20L468%20196%20L498%20196%20L498%20142%20L526%20142%20L526%20236%20L560%20236%20L560%20102%20L590%20102%20L590%20210%20L618%20210%20L618%20160%20L646%20160%20L646%20244%20L678%20244%20L678%20120%20L706%20120%20L706%20204%20L734%20204%20L734%20150%20L764%20150%20L764%20222%20L796%20222%20L796%2082%20L826%2082%20L826%20194%20L854%20194%20L854%20142%20L884%20142%20L884%20234%20L916%20234%20L916%20110%20L946%20110%20L946%20204%20L974%20204%20L974%20152%20L1004%20152%20L1004%20242%20L1036%20242%20L1036%20130%20L1064%20130%20L1064%20214%20L1092%20214%20L1092%20168%20L1122%20168%20L1122%20232%20L1150%20232%20L1150%20190%20L1200%20190%20L1200%20260%20Z%27/%3E%3C/svg%3E");
}

.fieldLayer {
  z-index: 4;
  top: var(--horizon-y);
  bottom: 0;
  overflow: hidden;
  transition: transform 420ms cubic-bezier(0.22, 1, 0.36, 1);
}

.mapLinesLayer {
  z-index: 5;
  top: var(--horizon-y);
  bottom: 0;
  overflow: hidden;
}

.energyLayer {
  z-index: 5;
  opacity: 0.65;
  transform: translate3d(calc(var(--mx) * 0.5), calc(var(--my) * 0.35), 0);
  transition: transform 420ms cubic-bezier(0.22, 1, 0.36, 1);
}

.treeLayer {
  z-index: 6;
  opacity: 1;
}

.uiLayer {
  position: absolute;
  inset: 0;
  z-index: 10;
  pointer-events: none;
}

.fxLayer {
  z-index: 9;
}

.cursorTrail {
  position: absolute;
  inset: 0;
  z-index: 6;
  pointer-events: none;
  mix-blend-mode: screen;
  opacity: 0.75;
}

.energyField {
  position: absolute;
  inset: 0;
  z-index: 5;
  pointer-events: none;
  mix-blend-mode: screen;
  opacity: 0.65;
}


.uiLayer .navRing,
.uiLayer .sideLinkLeft,
.uiLayer .sideLinkRight,
.uiLayer a,
.uiLayer button {
  pointer-events: auto;
}

.horizonGlow {
  position: absolute;
  left: 56%;
  bottom: 28%;
  width: min(1600px, 160vw);
  height: clamp(220px, 34vh, 420px);
  transform: translateX(-50%);
  background:
    radial-gradient(60% 100% at 46% 100%, rgba(70, 190, 255, 0.18) 0%, rgba(16, 90, 210, 0) 64%),
    radial-gradient(46% 90% at 52% 100%, rgba(70, 224, 196, 0.14) 0%, rgba(6, 20, 40, 0) 72%),
    radial-gradient(42% 80% at 92% 100%, rgba(255, 154, 96, 0.32) 0%, rgba(20, 20, 30, 0) 72%);
  filter: blur(10px);
  opacity: 0.6;
}

.farCitySilhouette {
  position: absolute;
  left: auto;
  right: -10%;
  bottom: 33%;
  width: min(1100px, 120vw);
  height: clamp(140px, 20vh, 240px);
  transform: translate3d(calc(var(--mx) * 0.46), calc(var(--my) * 0.26), 0);
  z-index: 2;
  background:
    linear-gradient(180deg, rgba(14, 22, 36, 0.98) 0%, rgba(6, 10, 18, 0.98) 78%),
    radial-gradient(220px 160px at 18% 84%, rgba(80, 120, 160, 0.28), rgba(12, 18, 28, 0) 70%),
    radial-gradient(240px 180px at 72% 76%, rgba(120, 160, 210, 0.22), rgba(12, 18, 28, 0) 72%),
    linear-gradient(90deg, rgba(20, 30, 48, 0.35), rgba(8, 12, 20, 0.1) 55%, rgba(24, 40, 60, 0.3));
  opacity: 0.92;
  -webkit-mask-image: var(--city-mask-far);
  mask-image: var(--city-mask-far);
  -webkit-mask-size: cover;
  mask-size: cover;
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
  -webkit-mask-position: right bottom;
  mask-position: right bottom;
  filter: blur(0.5px) drop-shadow(0 0 12px rgba(20, 40, 70, 0.45));
}

.farCitySilhouette::before {
  content: "";
  position: absolute;
  inset: 0;
  background-image:
    repeating-linear-gradient(90deg, rgba(255, 255, 255, 0.04) 0 2px, transparent 2px 14px),
    repeating-linear-gradient(0deg, rgba(80, 110, 140, 0.14) 0 1px, transparent 1px 8px);
  opacity: 0.22;
  mix-blend-mode: soft-light;
  pointer-events: none;
}

.cityWindows {
  position: absolute;
  left: auto;
  right: -10%;
  bottom: 33%;
  width: min(1100px, 120vw);
  height: clamp(140px, 20vh, 240px);
  transform: translate3d(calc(var(--mx) * 0.44), calc(var(--my) * 0.24), 0);
  z-index: 3;
  background-image:
    radial-gradient(circle at 18% 72%, rgba(255, 210, 160, 0.22), rgba(255, 210, 160, 0) 58%),
    radial-gradient(circle at 70% 65%, rgba(160, 210, 255, 0.22), rgba(160, 210, 255, 0) 60%),
    repeating-linear-gradient(90deg, rgba(255, 200, 150, 0.18) 0 1px, transparent 1px 12px),
    repeating-linear-gradient(0deg, rgba(255, 190, 140, 0.16) 0 1px, transparent 1px 9px),
    repeating-linear-gradient(90deg, rgba(200, 230, 255, 0.12) 0 1px, transparent 1px 20px);
  opacity: 0.18;
  mix-blend-mode: screen;
  filter: blur(0.2px);
  animation: cityWindowFlicker 3.2s ease-in-out infinite;
  -webkit-mask-image: var(--city-mask-far);
  mask-image: var(--city-mask-far);
  -webkit-mask-size: cover;
  mask-size: cover;
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
  -webkit-mask-position: right bottom;
  mask-position: right bottom;
}

.cityWindows::before {
  content: "";
  position: absolute;
  inset: 0;
  background-image: radial-gradient(circle at 54% 82%, rgba(255, 210, 160, 0.32), rgba(255, 210, 160, 0) 64%);
  opacity: 0.5;
  mix-blend-mode: screen;
  pointer-events: none;
}

.midCitySilhouette {
  position: absolute;
  right: -6%;
  bottom: 30%;
  width: min(1280px, 135vw);
  height: clamp(180px, 24vh, 280px);
  transform: translate3d(calc(var(--mx) * 0.42), calc(var(--my) * 0.22), 0);
  z-index: 4;
  background:
    linear-gradient(180deg, rgba(18, 30, 46, 0.98) 0%, rgba(8, 12, 20, 0.98) 78%),
    radial-gradient(260px 180px at 26% 76%, rgba(110, 150, 190, 0.25), rgba(12, 18, 28, 0) 70%),
    radial-gradient(280px 190px at 70% 70%, rgba(160, 190, 230, 0.22), rgba(10, 16, 26, 0) 72%);
  opacity: 0.95;
  -webkit-mask-image: var(--city-mask-mid);
  mask-image: var(--city-mask-mid);
  -webkit-mask-size: cover;
  mask-size: cover;
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
  -webkit-mask-position: right bottom;
  mask-position: right bottom;
  filter: blur(0.35px) drop-shadow(0 0 16px rgba(30, 60, 90, 0.35));
}

.midCitySilhouette::before {
  content: "";
  position: absolute;
  inset: 0;
  background-image:
    repeating-linear-gradient(90deg, rgba(255, 255, 255, 0.05) 0 2px, transparent 2px 16px),
    repeating-linear-gradient(0deg, rgba(100, 130, 160, 0.16) 0 1px, transparent 1px 9px);
  opacity: 0.28;
  mix-blend-mode: soft-light;
  pointer-events: none;
}

.midCityWindows {
  position: absolute;
  right: -6%;
  bottom: 30%;
  width: min(1280px, 135vw);
  height: clamp(180px, 24vh, 280px);
  transform: translate3d(calc(var(--mx) * 0.4), calc(var(--my) * 0.2), 0);
  z-index: 5;
  background-image:
    radial-gradient(circle at 30% 74%, rgba(255, 220, 170, 0.26), rgba(255, 220, 170, 0) 60%),
    radial-gradient(circle at 72% 66%, rgba(160, 210, 255, 0.22), rgba(160, 210, 255, 0) 62%),
    repeating-linear-gradient(90deg, rgba(255, 210, 160, 0.2) 0 1px, transparent 1px 13px),
    repeating-linear-gradient(0deg, rgba(255, 200, 150, 0.18) 0 1px, transparent 1px 10px),
    repeating-linear-gradient(90deg, rgba(180, 220, 255, 0.12) 0 1px, transparent 1px 22px);
  opacity: 0.22;
  mix-blend-mode: screen;
  filter: blur(0.3px);
  animation: cityWindowFlicker 3.8s ease-in-out infinite;
  -webkit-mask-image: var(--city-mask-mid);
  mask-image: var(--city-mask-mid);
  -webkit-mask-size: cover;
  mask-size: cover;
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
  -webkit-mask-position: right bottom;
  mask-position: right bottom;
}

.cityGlow {
  position: absolute;
  right: -4%;
  bottom: 33%;
  width: min(720px, 68vw);
  height: clamp(160px, 24vh, 260px);
  z-index: 1;
  background:
    radial-gradient(70% 120% at 86% 90%, rgba(255, 160, 100, 0.6), rgba(20, 18, 28, 0) 70%),
    radial-gradient(60% 100% at 72% 84%, rgba(255, 120, 80, 0.32), rgba(20, 16, 26, 0) 72%),
    radial-gradient(80% 120% at 38% 30%, rgba(120, 200, 255, 0.14), rgba(12, 20, 30, 0) 78%);
  filter: blur(10px);
  opacity: 0.52;
  mix-blend-mode: screen;
  transform: translate3d(calc(var(--mx) * 0.5), calc(var(--my) * 0.35), 0);
  animation: cityPulse 6.8s ease-in-out infinite;
}

.smokeHaze {
  position: absolute;
  right: -6%;
  bottom: 34%;
  width: min(780px, 74vw);
  height: clamp(190px, 26vh, 300px);
  z-index: 4;
  background:
    radial-gradient(70% 90% at 62% 62%, rgba(255, 170, 110, 0.16), rgba(12, 20, 30, 0) 72%),
    radial-gradient(80% 120% at 30% 32%, rgba(120, 210, 255, 0.12), rgba(12, 20, 30, 0) 76%),
    linear-gradient(180deg, rgba(110, 170, 210, 0.1), rgba(10, 16, 26, 0));
  filter: blur(12px);
  opacity: 0.38;
  mix-blend-mode: screen;
  transform: translate3d(calc(var(--mx) * 0.4), calc(var(--my) * 0.3), 0);
  animation: hazeDrift 10s ease-in-out infinite;
  -webkit-mask-image: linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.6) 35%, rgba(0, 0, 0, 1) 100%);
  mask-image: linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.6) 35%, rgba(0, 0, 0, 1) 100%);
}

.citySkyline {
  display: none;
  position: absolute;
  right: -3%;
  bottom: 23%;
  width: min(640px, 60vw);
  height: clamp(120px, 18vh, 200px);
  z-index: 5;
  opacity: 0.42;
  transform: translate3d(calc(var(--mx) * 0.45), calc(var(--my) * 0.3), 0);
  filter: blur(0.6px) drop-shadow(0 0 10px rgba(255, 170, 110, 0.25));
}

.citySvg {
  width: 100%;
  height: 100%;
}

.citySilhouette {
  opacity: 0.7;
  filter: drop-shadow(0 0 8px rgba(120, 220, 255, 0.25));
}

.cityLights {
  opacity: 0.7;
  filter: blur(0.6px);
  stroke-dasharray: 4 10;
  stroke-linecap: round;
  animation: cityFlicker 3.6s ease-in-out infinite;
}

.fieldPlane,
.mapOverlay,
.riverPath,
.mapGlowSweep {
  position: absolute;
  left: 50%;
  bottom: -220px;
  width: min(1700px, 180vw);
  height: clamp(420px, 68vh, 860px);
  transform:
    translate3d(calc(var(--mx) * 0.6), calc(var(--my) * 0.45), 0)
    translateX(-50%)
    perspective(1400px)
    rotateX(68deg);
  transform-origin: 50% 0%;
  pointer-events: none;
  -webkit-mask-image: linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.35) 20%, rgba(0, 0, 0, 0.92) 70%, rgba(0, 0, 0, 1) 100%);
  mask-image: linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.35) 20%, rgba(0, 0, 0, 0.92) 70%, rgba(0, 0, 0, 1) 100%);
  -webkit-mask-size: 100% 100%;
  mask-size: 100% 100%;
}

.fieldPlane {
  z-index: 3;
  overflow: hidden;
  border-top: 1px solid rgba(90, 140, 110, 0.26);
  background:
    linear-gradient(180deg, rgba(16, 26, 22, 0.96) 0%, rgba(6, 10, 16, 0.98) 100%),
    repeating-linear-gradient(92deg, rgba(40, 80, 62, 0.24) 0 120px, rgba(24, 50, 40, 0.14) 120px 210px, rgba(52, 100, 78, 0.22) 210px 360px),
    repeating-linear-gradient(2deg, rgba(32, 70, 52, 0.2) 0 90px, rgba(20, 40, 30, 0.14) 90px 160px, rgba(42, 86, 64, 0.22) 160px 260px),
    radial-gradient(320px 220px at 18% 84%, rgba(80, 130, 100, 0.26), rgba(8, 12, 18, 0) 70%),
    radial-gradient(360px 240px at 78% 86%, rgba(70, 120, 95, 0.22), rgba(8, 12, 18, 0) 72%);
  opacity: 0.95;
  filter: drop-shadow(0 0 22px rgba(50, 110, 90, 0.18));
}

.fieldPlane::before {
  content: "";
  position: absolute;
  inset: 0;
  background:
    repeating-linear-gradient(110deg, rgba(70, 130, 100, 0.18) 0 1px, transparent 1px 28px),
    repeating-linear-gradient(140deg, rgba(60, 110, 90, 0.16) 0 1px, transparent 1px 34px),
    linear-gradient(180deg, rgba(6, 10, 16, 0) 0%, rgba(6, 10, 16, 0.35) 38%, rgba(6, 10, 16, 0.88) 100%);
  opacity: 0.6;
  mix-blend-mode: multiply;
  pointer-events: none;
}

.fieldPlane::after {
  content: "";
  position: absolute;
  inset: 0;
  background-image:
    radial-gradient(120% 90% at 46% 100%, rgba(120, 180, 150, 0.16), rgba(8, 12, 18, 0) 70%),
    radial-gradient(80% 70% at 18% 80%, rgba(140, 200, 160, 0.12), rgba(8, 12, 18, 0) 68%),
    radial-gradient(80% 70% at 82% 82%, rgba(110, 170, 140, 0.1), rgba(8, 12, 18, 0) 68%);
  opacity: 0.32;
  mix-blend-mode: screen;
  filter: blur(4px);
  pointer-events: none;
}

.mapOverlay {
  z-index: 4;
  background-image:
    url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%201200%20560%27%20preserveAspectRatio%3D%27none%27%3E%3Cg%20fill%3D%27none%27%20stroke%3D%27%239adbc9%27%20stroke-opacity%3D%270.45%27%20stroke-width%3D%271.2%27%20stroke-linecap%3D%27round%27%20stroke-dasharray%3D%2710%2016%27%3E%3Cpath%20d%3D%27M40%20480%20C%20180%20420%20260%20440%20360%20400%20C%20460%20360%20560%20360%20660%20320%20C%20760%20280%20880%20300%20980%20260%20C%201080%20220%201160%20220%201200%20200%27/%3E%3Cpath%20d%3D%27M0%20360%20C%20160%20340%20260%20320%20360%20300%20C%20460%20280%20560%20260%20660%20240%20C%20780%20220%20900%20220%201080%20180%27/%3E%3C/g%3E%3Cg%20fill%3D%27none%27%20stroke%3D%27%239adbc9%27%20stroke-opacity%3D%270.35%27%20stroke-width%3D%270.9%27%20stroke-linecap%3D%27round%27%20stroke-dasharray%3D%276%2012%27%3E%3Cpath%20d%3D%27M80%20520%20C%20220%20460%20300%20480%20420%20440%20C%20540%20400%20640%20420%20740%20380%20C%20840%20340%20940%20360%201100%20320%27/%3E%3Cpath%20d%3D%27M60%20260%20C%20200%20240%20320%20220%20440%20200%20C%20560%20180%20700%20170%20860%20150%20C%201020%20130%201140%20120%201200%20110%27/%3E%3C/g%3E%3C/svg%3E"),
    repeating-linear-gradient(96deg, rgba(140, 200, 175, 0.2) 0 1px, transparent 1px 30px),
    repeating-linear-gradient(124deg, rgba(110, 180, 160, 0.16) 0 1px, transparent 1px 46px),
    repeating-linear-gradient(0deg, rgba(160, 220, 200, 0.14) 0 1px, transparent 1px 20px);
  background-size: 1200px 560px, auto, auto, auto;
  background-position: 50% 60%, 0 0, 40px 20px, 0 0;
  background-repeat: no-repeat, repeat, repeat, repeat;
  opacity: 0.18;
  mix-blend-mode: screen;
  filter: blur(0.2px);
}

.riverPath {
  z-index: 5;
  background:
    linear-gradient(110deg, rgba(10, 70, 140, 0.2), rgba(80, 170, 230, 0.78) 50%, rgba(10, 70, 140, 0.22)),
    radial-gradient(60% 100% at 50% 50%, rgba(160, 230, 255, 0.45), rgba(20, 60, 100, 0) 70%);
  background-repeat: no-repeat;
  background-position: center;
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%201200%20600%27%20preserveAspectRatio%3D%27none%27%3E%3Cpath%20d%3D%27M-40%20240%20C%20120%20170%20260%20190%20360%20240%20C%20460%20290%20560%20270%20650%20320%20C%20740%20370%20840%20350%20920%20410%20C%201000%20470%201120%20460%201240%20520%27%20fill%3D%27none%27%20stroke%3D%27white%27%20stroke-width%3D%2750%27%20stroke-linecap%3D%27round%27%20stroke-linejoin%3D%27round%27/%3E%3C/svg%3E");
  mask-image: url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%201200%20600%27%20preserveAspectRatio%3D%27none%27%3E%3Cpath%20d%3D%27M-40%20240%20C%20120%20170%20260%20190%20360%20240%20C%20460%20290%20560%20270%20650%20320%20C%20740%20370%20840%20350%20920%20410%20C%201000%20470%201120%20460%201240%20520%27%20fill%3D%27none%27%20stroke%3D%27white%27%20stroke-width%3D%2750%27%20stroke-linecap%3D%27round%27%20stroke-linejoin%3D%27round%27/%3E%3C/svg%3E");
  -webkit-mask-size: cover;
  mask-size: cover;
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
  opacity: 0.72;
  filter: drop-shadow(0 0 10px rgba(120, 200, 255, 0.35));
  mix-blend-mode: screen;
}

.mapGlowSweep {
  z-index: 6;
  background: linear-gradient(120deg, rgba(120, 200, 200, 0) 0%, rgba(120, 220, 200, 0.16) 48%, rgba(120, 200, 200, 0) 100%);
  background-size: 200% 100%;
  background-position: -40% 0%;
  opacity: 0.08;
  mix-blend-mode: screen;
  animation: mapGlowSweep 13s ease-in-out infinite;
}

.groundPlane {
  position: absolute;
  left: 50%;
  bottom: -240px;
  width: min(1700px, 180vw);
  height: clamp(420px, 68vh, 860px);
  transform:
    translate3d(calc(var(--mx) * 0.45), calc(var(--my) * 0.32), 0)
    translateX(-50%)
    perspective(1400px)
    rotateX(68deg);
  transform-origin: 50% 0%;
  pointer-events: none;
  -webkit-mask-image: linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.32) 18%, rgba(0, 0, 0, 0.92) 62%, rgba(0, 0, 0, 1) 100%);
  mask-image: linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.32) 18%, rgba(0, 0, 0, 0.92) 62%, rgba(0, 0, 0, 1) 100%);
  -webkit-mask-size: 100% 100%;
  mask-size: 100% 100%;
}

.fieldBase {
  z-index: 1;
  background:
    linear-gradient(180deg, rgba(24, 40, 36, 0.95) 0%, rgba(14, 24, 26, 0.98) 55%, rgba(6, 10, 14, 1) 100%),
    radial-gradient(70% 90% at 18% 84%, rgba(60, 100, 82, 0.42), rgba(10, 16, 20, 0) 68%),
    radial-gradient(80% 100% at 78% 86%, rgba(50, 92, 76, 0.38), rgba(10, 16, 20, 0) 70%),
    radial-gradient(80% 100% at 50% 58%, rgba(40, 78, 70, 0.28), rgba(10, 16, 20, 0) 70%);
  opacity: 0.95;
}

.riverPath {
  z-index: 2;
  background:
    linear-gradient(180deg, rgba(140, 210, 255, 0.55) 0%, rgba(70, 140, 210, 0.12) 70%),
    radial-gradient(60% 80% at 20% 88%, rgba(180, 230, 255, 0.4), rgba(80, 140, 210, 0) 70%);
  opacity: 0.6;
  mix-blend-mode: screen;
  filter: drop-shadow(0 0 10px rgba(120, 200, 255, 0.35));
  -webkit-mask-image: url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%201200%20560%27%20preserveAspectRatio%3D%27none%27%3E%3Cpath%20d%3D%27M60%20520%20C160%20460%20220%20420%20300%20400%20C420%20370%20520%20340%20620%20300%20C720%20260%20820%20260%20920%20220%20C1020%20180%201100%20160%201200%20120%27%20stroke%3D%27white%27%20stroke-width%3D%2790%27%20fill%3D%27none%27%20stroke-linecap%3D%27round%27/%3E%3C/svg%3E");
  mask-image: url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20viewBox%3D%270%200%201200%20560%27%20preserveAspectRatio%3D%27none%27%3E%3Cpath%20d%3D%27M60%20520%20C160%20460%20220%20420%20300%20400%20C420%20370%20520%20340%20620%20300%20C720%20260%20820%20260%20920%20220%20C1020%20180%201100%20160%201200%20120%27%20stroke%3D%27white%27%20stroke-width%3D%2790%27%20fill%3D%27none%27%20stroke-linecap%3D%27round%27/%3E%3C/svg%3E");
  -webkit-mask-size: cover;
  mask-size: cover;
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
  -webkit-mask-position: left bottom;
  mask-position: left bottom;
}

.contourLines {
  position: absolute;
  inset: 0;
  pointer-events: none;
}

.contourLine {
  position: absolute;
  left: 50%;
  bottom: -240px;
  width: min(1700px, 180vw);
  height: clamp(420px, 68vh, 860px);
  border-top: 1px solid rgba(140, 210, 255, 0.22);
  border-radius: 50%;
  transform:
    translateX(-50%)
    perspective(1400px)
    rotateX(68deg)
    translateY(var(--contour-offset, 0px))
    scale(var(--contour-scale, 1));
  transform-origin: 50% 0%;
  opacity: var(--contour-opacity, 0.12);
  filter: drop-shadow(0 0 0 rgba(120, 220, 255, 0));
  animation: contourPulse var(--contour-duration, 9.6s) ease-in-out infinite;
  animation-delay: var(--contour-delay, 0s);
  animation-play-state: paused;
}

.heroRoot[data-hero-intro="true"] .contourLine {
  animation-play-state: running;
}

.contourLine:nth-child(1) {
  --contour-offset: -120px;
  --contour-scale: 0.78;
  --contour-opacity: 0.09;
  --contour-duration: 11.2s;
  --contour-delay: -1.2s;
}

.contourLine:nth-child(2) {
  --contour-offset: -80px;
  --contour-scale: 0.86;
  --contour-opacity: 0.1;
  --contour-duration: 10.4s;
  --contour-delay: -0.6s;
}

.contourLine:nth-child(3) {
  --contour-offset: -40px;
  --contour-scale: 0.94;
  --contour-opacity: 0.11;
  --contour-duration: 9.8s;
  --contour-delay: -0.2s;
}

.contourLine:nth-child(4) {
  --contour-offset: 0px;
  --contour-scale: 1.02;
  --contour-opacity: 0.12;
  --contour-duration: 9.2s;
  --contour-delay: -0.8s;
}

.contourLine:nth-child(5) {
  --contour-offset: 40px;
  --contour-scale: 1.08;
  --contour-opacity: 0.13;
  --contour-duration: 8.8s;
  --contour-delay: -0.4s;
}

.contourLine:nth-child(6) {
  --contour-offset: 80px;
  --contour-scale: 1.14;
  --contour-opacity: 0.14;
  --contour-duration: 8.4s;
  --contour-delay: -1s;
}

.contourLine:nth-child(7) {
  --contour-offset: 120px;
  --contour-scale: 1.2;
  --contour-opacity: 0.12;
  --contour-duration: 8s;
  --contour-delay: -0.6s;
}

.contourLine:nth-child(8) {
  --contour-offset: 160px;
  --contour-scale: 1.28;
  --contour-opacity: 0.11;
  --contour-duration: 7.6s;
  --contour-delay: -1.4s;
}

.fieldFog {
  position: absolute;
  left: 50%;
  bottom: 20%;
  width: min(1600px, 180vw);
  height: clamp(140px, 18vh, 220px);
  z-index: 4;
  transform: translate3d(calc(var(--mx) * 0.45), calc(var(--my) * 0.3), 0) translateX(-50%);
  background:
    radial-gradient(60% 80% at 50% 100%, rgba(120, 170, 140, 0.22), rgba(8, 14, 24, 0) 70%),
    linear-gradient(180deg, rgba(12, 18, 24, 0), rgba(8, 12, 18, 0.55));
  filter: blur(8px);
  opacity: 0.35;
  mix-blend-mode: screen;
  pointer-events: none;
}

.fieldGlow {
  position: absolute;
  left: 50%;
  bottom: 12%;
  width: min(1200px, 120vw);
  height: clamp(160px, 24vh, 280px);
  z-index: 5;
  transform: translate3d(calc(var(--mx) * 0.45), calc(var(--my) * 0.3), 0) translateX(-50%);
  background:
    radial-gradient(50% 100% at 50% 100%, rgba(100, 170, 140, 0.4), rgba(18, 110, 235, 0) 70%),
    radial-gradient(40% 80% at 50% 100%, rgba(80, 150, 120, 0.32), rgba(6, 18, 30, 0) 70%);
  filter: blur(8px);
  opacity: 0.42;
  mix-blend-mode: screen;
  pointer-events: none;
}

.groundFog {
  position: absolute;
  left: 50%;
  bottom: 0%;
  width: min(1500px, 180vw);
  height: clamp(160px, 22vh, 260px);
  z-index: 6;
  transform: translate3d(calc(var(--mx) * 0.5), calc(var(--my) * 0.35), 0) translateX(-50%);
  background:
    radial-gradient(70% 100% at 50% 100%, rgba(110, 170, 140, 0.16), rgba(8, 16, 26, 0) 72%),
    linear-gradient(180deg, rgba(8, 16, 24, 0) 0%, rgba(6, 12, 18, 0.58) 100%);
  opacity: 0.3;
  mix-blend-mode: screen;
  animation: groundFogDrift 8.4s ease-in-out infinite;
  pointer-events: none;
}

.groundGrid {
  position: absolute;
  left: 50%;
  bottom: 4%;
  width: min(1500px, 160vw);
  height: clamp(160px, 24vh, 280px);
  transform: translateX(-50%);
  opacity: 0.04;
  mask-image: radial-gradient(ellipse at 50% 100%, black 0%, transparent 72%);
}

.groundGrid::before {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(60% 90% at 50% 100%, rgba(24, 110, 235, 0.25) 0%, rgba(6, 16, 32, 0) 70%);
  filter: blur(0.2px);
}

.baseGlow {
  position: absolute;
  left: 50%;
  bottom: 15%;
  width: min(980px, 90vw);
  height: clamp(160px, 24vh, 280px);
  z-index: 7;
  transform: translateX(-50%);
  background:
    radial-gradient(50% 100% at 50% 100%, rgba(80, 190, 255, 0.45), rgba(18, 110, 235, 0) 70%),
    radial-gradient(38% 70% at 50% 100%, rgba(65, 224, 196, 0.4), rgba(6, 18, 30, 0) 68%);
  filter: blur(10px);
  opacity: 0.78;
}

.vignette {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 60;
  background: radial-gradient(120% 120% at 50% 40%, rgba(6, 12, 20, 0) 48%, rgba(5, 8, 14, 0.75) 100%);
  opacity: 0.08;
}

.vignette::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background-image:
    radial-gradient(rgba(255, 255, 255, 0.06) 1px, transparent 1px),
    radial-gradient(rgba(255, 255, 255, 0.04) 1px, transparent 1px);
  background-size: 3px 3px, 5px 5px;
  background-position: 0 0, 2px 2px;
  opacity: 0.015;
  mix-blend-mode: soft-light;
}

.filmGrain {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 31;
  background-image:
    radial-gradient(rgba(255, 255, 255, 0.06) 1px, transparent 1px),
    radial-gradient(rgba(255, 255, 255, 0.04) 1px, transparent 1px);
  background-size: 3px 3px, 5px 5px;
  background-position: 0 0, 2px 2px;
  opacity: 0.015;
  mix-blend-mode: soft-light;
}

.sideLinkLeft,
.sideLinkRight {
  position: absolute;
  top: 46%;
  transform: translate3d(calc(var(--mx) * 0.7), calc(var(--my) * 0.7), 0) translateY(-50%) scale(var(--ui-scale));
  transform-origin: center;
  z-index: 40;
  display: grid;
  gap: 38px;
  grid-template-rows: var(--side-row-height, var(--side-object-height)) auto;
  align-items: center;
  text-decoration: none;
  cursor: pointer;
  pointer-events: auto;
  transition: opacity 420ms ease;
  --side-object-width: clamp(200px, 22vw, 320px);
  --side-object-height: clamp(200px, 22vw, 320px);
}

.sideLinkLeft {
  left: var(--side-inset);
  justify-items: start;
  --side-object-height: clamp(110px, 12vw, 170px);
  --side-row-height: clamp(200px, 22vw, 320px);
}

.sideLinkRight {
  right: var(--side-inset);
  justify-items: end;
}

.sideObjectLeft {
  position: relative;
  width: var(--side-object-width);
  height: var(--side-object-height);
  align-self: center;
  border-radius: 999px;
  background: linear-gradient(90deg, rgba(150, 225, 255, 0.48) 0 50%, rgba(120, 200, 255, 0.55) 50% 100%);
  border: 1px solid rgba(200, 240, 255, 0.35);
  box-shadow: 0 0 42px rgba(120, 210, 255, 0.4);
  --side-rot: -18deg;
  transform: rotate(var(--side-rot)) translate3d(0, 0, 0);
  opacity: 0.85;
  filter: drop-shadow(0 0 40px rgba(120, 210, 255, 0.55)) drop-shadow(0 0 18px rgba(120, 210, 255, 0.35));
  transition: transform 320ms cubic-bezier(0.22, 1, 0.36, 1), box-shadow 320ms cubic-bezier(0.22, 1, 0.36, 1),
    filter 320ms cubic-bezier(0.22, 1, 0.36, 1);
  pointer-events: auto;
  animation: capsuleDrift 12s ease-in-out infinite;
}

.sideObjectLeft::before {
  content: "";
  position: absolute;
  inset: 10%;
  border-radius: 999px;
  background: linear-gradient(120deg, rgba(255, 255, 255, 0.45), rgba(255, 255, 255, 0) 60%);
  opacity: 0.5;
}

.sideObjectLeft::after {
  content: "";
  position: absolute;
  inset: -6%;
  border-radius: 999px;
  border: 1px solid rgba(200, 240, 255, 0.35);
  opacity: 0;
  transition: opacity 320ms cubic-bezier(0.22, 1, 0.36, 1);
  pointer-events: none;
}

.capsuleCore {
  position: absolute;
  inset: 16%;
  border-radius: 999px;
  background: linear-gradient(100deg, rgba(255, 255, 255, 0.3), rgba(255, 255, 255, 0) 60%);
  opacity: 0.35;
}

.sideObjectRight {
  position: relative;
  width: var(--side-object-width);
  height: var(--side-object-height);
  display: grid;
  place-items: center;
  align-self: center;
  filter: drop-shadow(0 0 40px rgba(120, 210, 255, 0.55)) drop-shadow(0 0 18px rgba(120, 210, 255, 0.35));
  opacity: 0.85;
  transition: transform 320ms cubic-bezier(0.22, 1, 0.36, 1), filter 320ms cubic-bezier(0.22, 1, 0.36, 1);
  pointer-events: auto;
  animation: starDrift 11s ease-in-out infinite;
}

.starSvg {
  width: 100%;
  height: 100%;
  animation: starPulse 4.8s ease-in-out infinite;
}

.starStroke {
  opacity: 0.75;
  transition: stroke-width 220ms ease, filter 220ms ease, opacity 220ms ease;
}

.sideLabel,
.sideLabelRu {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: clamp(14px, 1.6vw, 22px);
  letter-spacing: 0.18em;
  text-transform: uppercase;
  color: rgba(220, 245, 255, 0.9);
  text-shadow: 0 0 16px rgba(120, 210, 255, 0.35);
  line-height: 1.2;
  max-width: clamp(180px, 22vw, 320px);
  min-height: 0;
  padding: 0;
  border-radius: 0;
  background: transparent;
  border: none;
  box-shadow: none;
}

.sideLabelRu {
  text-align: right;
}

.sideLabel::before,
.sideLabelRu::before {
  content: none;
}

.sideLinkLeft .sideLabel {
  font-size: clamp(16px, 1.9vw, 24px);
  color: rgba(236, 252, 255, 0.98);
  text-shadow: 0 0 22px rgba(120, 220, 255, 0.55);
}

.sideLinkRight .sideLabelRu {
  font-size: clamp(16px, 1.9vw, 24px);
  color: rgba(236, 252, 255, 0.98);
  text-shadow: 0 0 22px rgba(120, 220, 255, 0.55);
}

.sideLinkLeft:hover .sideObjectLeft,
.sideLinkLeft:focus-visible .sideObjectLeft {
  transform: rotate(var(--side-rot)) scale(1.03);
  box-shadow: 0 0 56px rgba(120, 210, 255, 0.55);
  filter: drop-shadow(0 0 46px rgba(120, 210, 255, 0.7)) drop-shadow(0 0 24px rgba(120, 210, 255, 0.4));
}

.sideLinkRight:hover .sideObjectRight,
.sideLinkRight:focus-visible .sideObjectRight {
  transform: scale(1.03);
  filter: drop-shadow(0 0 46px rgba(120, 210, 255, 0.7)) drop-shadow(0 0 24px rgba(120, 210, 255, 0.4));
}

.sideLinkLeft:hover .sideObjectLeft::after,
.sideLinkLeft:focus-visible .sideObjectLeft::after,
.sideLinkRight:hover .starStroke,
.sideLinkRight:focus-visible .starStroke {
  opacity: 1;
}

.sideLinkRight:hover .starStroke,
.sideLinkRight:focus-visible .starStroke {
  stroke-width: 3.4;
  filter: drop-shadow(0 0 8px rgba(160, 235, 255, 0.85));
}

.sideLinkLeft::after,
.sideLinkRight::after {
  content: none;
}

.star {
  position: absolute;
  border-radius: 9999px;
  background: rgba(200, 230, 255, 0.8);
  box-shadow: 0 0 6px rgba(120, 200, 255, 0.45);
  transform: translate(-50%, -50%);
  animation: starTwinkle var(--twinkle-duration, 3.6s) ease-in-out infinite;
  animation-delay: var(--twinkle-delay, 0s);
  will-change: transform, opacity;
}

.starBottom {
  background: rgba(220, 245, 255, 0.86);
  box-shadow: 0 0 8px rgba(130, 215, 255, 0.6);
}

.stage {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 4;
  perspective: 1200px;
}

.centerStage {
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
}

.treeStage {
  position: absolute;
  left: 50%;
  top: 50%;
  z-index: 14;
  width: min(1120px, 94vw);
  height: clamp(460px, 64vh, 900px);
  margin: 0;
  pointer-events: none;
  opacity: 0;
  transform: translate(-50%, -50%) translateY(12px) scale(var(--tree-intro, 0.85));
  transition: opacity 0.9s ease, transform 0.9s ease;
}

.heroRoot[data-hero-intro="true"] .treeStage {
  opacity: 1;
  transform: translate(-50%, -50%) translateY(12px) scale(1);
}

.treeAnchor {
  position: absolute;
  left: 50%;
  bottom: 18%;
  width: min(180px, 22vw);
  height: 48px;
  transform: translateX(-50%);
  pointer-events: none;
}

.treeGlow {
  position: absolute;
  left: 50%;
  bottom: 18%;
  width: min(520px, 62vw);
  height: clamp(140px, 20vh, 220px);
  transform: translateX(-50%);
  background: radial-gradient(50% 100% at 50% 100%, rgba(120, 220, 255, 0.55), rgba(8, 16, 26, 0) 70%);
  opacity: 0;
  filter: blur(12px);
  transition: opacity 0.9s ease;
}

.heroRoot[data-hero-intro="true"] .treeGlow {
  opacity: 0.9;
}

.treeImage {
  position: absolute;
  left: 50%;
  bottom: 4%;
  width: min(520px, 56vw);
  height: min(720px, 70vh);
  transform: translateX(-50%);
  object-fit: contain;
  filter: drop-shadow(0 0 24px rgba(120, 200, 255, 0.35));
}

.treeStageStatic {
  --tree-scale: 1.35;
}

.treeStageStatic .treeBaseGlow {
  opacity: 0.85;
}

.treeStageStatic .treeBaseRing {
  opacity: 0.7;
}

.treeStageStatic .treeEnergyHalo {
  opacity: 0.55;
}

.treeStageStatic .treeEnergyPulse {
  opacity: 0.55;
}

.treeStage :global(canvas) {
  width: 100% !important;
  height: 100% !important;
  display: block;
}

.treeSlot {
  position: relative;
  width: 100%;
  height: 100%;
  display: grid;
  place-items: center;
  pointer-events: none;
}

.treeBaseGlow {
  position: absolute;
  left: 50%;
  bottom: 13%;
  width: min(600px, 64vw);
  height: clamp(140px, 20vh, 240px);
  transform: translateX(-50%);
  background:
    radial-gradient(50% 100% at 50% 100%, rgba(120, 220, 255, 0.62), rgba(18, 110, 235, 0) 70%),
    radial-gradient(40% 80% at 50% 100%, rgba(65, 224, 196, 0.48), rgba(6, 18, 30, 0) 68%);
  filter: blur(16px);
  opacity: 0.98;
}

.treeBaseRing {
  position: absolute;
  left: 50%;
  bottom: 19%;
  width: min(420px, 46vw);
  height: clamp(80px, 12vh, 140px);
  transform: translateX(-50%) rotateX(70deg);
  border: 1px solid rgba(120, 220, 255, 0.55);
  border-radius: 50%;
  box-shadow: 0 0 26px rgba(120, 220, 255, 0.35);
  opacity: 0.8;
  animation: baseRingPulse 4.8s ease-in-out infinite;
  pointer-events: none;
}

.treeEnergyHalo {
  position: absolute;
  left: 50%;
  bottom: 18%;
  width: min(600px, 62vw);
  height: clamp(140px, 20vh, 220px);
  transform: translateX(-50%);
  background:
    radial-gradient(50% 100% at 50% 100%, rgba(126, 231, 255, 0.45), rgba(8, 16, 28, 0) 68%),
    radial-gradient(40% 80% at 50% 100%, rgba(65, 224, 196, 0.35), rgba(8, 16, 28, 0) 72%);
  filter: blur(12px);
  opacity: 0.7;
  mix-blend-mode: screen;
  animation: energyHaloPulse 5.2s ease-in-out infinite;
  pointer-events: none;
}

.treeEnergyPulse {
  position: absolute;
  left: 50%;
  bottom: 20%;
  width: min(360px, 40vw);
  height: clamp(70px, 10vh, 120px);
  transform: translateX(-50%) rotateX(72deg);
  border-radius: 50%;
  border: 1px solid rgba(120, 220, 255, 0.6);
  box-shadow: 0 0 22px rgba(120, 220, 255, 0.35);
  opacity: 0.7;
  animation: energyPulse 4.4s ease-in-out infinite;
  pointer-events: none;
}

.treeOrbits {
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  pointer-events: none;
  opacity: 0.6;
}

.treeOrbitSvg {
  width: min(720px, 78vw);
  height: clamp(160px, 22vh, 240px);
  transform: translateY(8%);
}

.treeOrbitGroup {
  transform-origin: 50% 60%;
  animation: orbitSpinSlow 16s linear infinite;
}

.treeOrbit {
  fill: none;
  stroke: url(#treeOrbitGrad);
  stroke-width: 1.1;
  opacity: 0.7;
  filter: drop-shadow(0 0 8px rgba(120, 210, 255, 0.35));
}

.treeOrbitAlt {
  opacity: 0.5;
  stroke-dasharray: 8 14;
  animation: orbitSpinReverse 22s linear infinite;
}

.treeOrbitThin {
  opacity: 0.4;
  stroke-width: 0.9;
  stroke-dasharray: 4 12;
  animation: orbitSpinSlow 20s linear infinite reverse;
}

.treeSpin {
  width: 100%;
  height: 100%;
  position: relative;
  display: grid;
  place-items: center;
  transform-origin: center;
  transform: translateY(4%) scale(var(--tree-scale));
  transform-style: preserve-3d;
  will-change: transform;
}

.treeCanvas {
  pointer-events: none;
  width: 100%;
  height: 100%;
  transform: translateZ(0);
}

.treePlaceholder {
  width: min(520px, 54vw);
  height: min(720px, 70vh);
  border-radius: 50%;
  background:
    radial-gradient(45% 60% at 50% 38%, rgba(150, 230, 255, 0.35), rgba(8, 14, 22, 0) 72%),
    radial-gradient(35% 50% at 50% 62%, rgba(80, 210, 190, 0.25), rgba(8, 14, 22, 0) 70%),
    radial-gradient(70% 100% at 50% 90%, rgba(120, 220, 255, 0.18), rgba(8, 14, 22, 0) 72%);
  opacity: 0.6;
  filter: blur(1.5px);
}

.treeFallback {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  background: radial-gradient(circle at 50% 45%, rgba(120, 220, 255, 0.35), rgba(8, 14, 22, 0.08));
  opacity: 0.6;
}

.orbitTitleWrap {
    position: absolute;
    top: clamp(48px, 7vh, 150px);
    left: 50%;
    transform: translate(-50%, 0%);
    z-index: 45;
    pointer-events: none;
    overflow: visible;
    opacity: 0;
    animation: orbitTitlePulse 8s ease-in-out infinite;
    animation-play-state: paused;
    transition: opacity 520ms cubic-bezier(0.22, 1, 0.36, 1),
      transform 640ms cubic-bezier(0.22, 1, 0.36, 1),
      top 640ms cubic-bezier(0.22, 1, 0.36, 1);
  }

.orbitTitleWrap::before {
  content: none;
}

.heroRoot[data-hero-intro="true"] .orbitTitleWrap {
  opacity: 1;
  animation-play-state: running;
}

.orbitTitleParallax {
  position: relative;
  display: grid;
  place-items: center;
  transform: translate3d(calc(var(--mx) * 0.3), calc(var(--my) * 0.3), 0);
  transition: transform 420ms cubic-bezier(0.22, 1, 0.36, 1);
}

.titleStack {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: clamp(6px, 1vh, 12px);
  text-align: center;
  margin: 0;
  padding: 0;
  position: relative;
  z-index: 6;
  border-radius: 0;
  background: transparent;
  border: none;
  box-shadow: none;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
}

.titleLine {
  position: relative;
  display: block;
  white-space: nowrap;
  font-family: var(--font-geist-sans), "Segoe UI", sans-serif;
  font-size: clamp(34px, 4.2vw, 58px);
  font-weight: 700;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  line-height: 1.02;
  color: rgba(236, 250, 255, 0.98);
  opacity: 0;
  text-shadow:
    0 1px 0 rgba(255, 255, 255, 0.25),
    0 2px 2px rgba(6, 16, 28, 0.55),
    0 6px 14px rgba(6, 16, 28, 0.7),
    0 0 18px rgba(120, 220, 255, 0.6);
}

.titleLine::before {
  content: none;
  display: none;
}

.titleLine::after {
  content: none;
  display: none;
}

.heroRoot[data-hero-intro="true"] .titleLine {
  opacity: 1;
  animation: titleFlicker 0.9s ease both;
}

.heroRoot[data-hero-intro="true"] .titleLineAccent {
  animation-delay: 0.08s;
}

.titleLineAccent {
  font-size: clamp(40px, 5.2vw, 74px);
  letter-spacing: 0.2em;
  color: rgba(210, 245, 255, 0.98);
  text-shadow:
    0 2px 0 rgba(255, 255, 255, 0.28),
    0 6px 12px rgba(8, 24, 44, 0.65),
    0 14px 22px rgba(8, 24, 44, 0.7),
    0 0 28px rgba(120, 220, 255, 0.6);
}

.titleOrbits {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) perspective(1400px) rotateX(62deg);
  transform-style: preserve-3d;
  transform-origin: 50% 50%;
  width: min(1040px, 96vw);
  height: clamp(160px, 24vh, 280px);
  pointer-events: none;
  overflow: visible;
  opacity: 0.95;
  z-index: 1;
  filter: drop-shadow(0 0 22px rgba(120, 220, 255, 0.5));
}

.titlePlanetOrbit,
.titlePlanetTrack {
  position: absolute;
  left: 50%;
  top: 48%;
  width: min(520px, 70vw);
  height: clamp(70px, 12vh, 120px);
  transform: translate(-50%, -50%) perspective(1400px) rotateX(62deg);
  transform-origin: 50% 50%;
  pointer-events: none;
}

.titlePlanetOrbit {
  z-index: 2;
  border-radius: 50%;
  border: 2px solid rgba(90, 200, 255, 0.85);
  opacity: 0.95;
  box-shadow:
    0 0 18px rgba(80, 190, 255, 0.6),
    0 0 36px rgba(40, 130, 235, 0.4);
  filter: drop-shadow(0 0 22px rgba(120, 220, 255, 0.65));
}

.titlePlanetOrbit::before {
  content: "";
  position: absolute;
  inset: 6%;
  border-radius: 50%;
  border: 1px dashed rgba(110, 210, 255, 0.45);
  opacity: 0.7;
}

.titlePlanetOrbit::after {
  content: "";
  position: absolute;
  inset: -8px;
  border-radius: 50%;
  border: 1px solid rgba(140, 230, 255, 0.32);
  filter: blur(2px);
  opacity: 0.8;
}

.titlePlanetTrack {
  z-index: 4;
  transform-style: preserve-3d;
}

.titlePlanetSpin {
  position: absolute;
  inset: 0;
  transform-origin: 50% 50%;
  animation: planetOrbitSpin 11s linear infinite;
}

.titlePlanet {
  position: absolute;
  left: calc(100% - 10px);
  top: 50%;
  width: 20px;
  height: 20px;
  border-radius: 50%;
  transform: translateY(-50%);
  background:
    radial-gradient(circle at 30% 28%, rgba(230, 255, 242, 0.98), rgba(120, 255, 190, 0.95) 38%, rgba(40, 180, 110, 0.9) 62%, rgba(10, 40, 20, 0.98) 100%);
  box-shadow:
    0 0 16px rgba(80, 255, 180, 0.75),
    0 0 36px rgba(30, 170, 100, 0.65);
  mix-blend-mode: screen;
  z-index: 7;
  animation: planetDepth 11s ease-in-out infinite;
}

.titlePlanet::before {
  content: "";
  position: absolute;
  left: 18%;
  top: 12%;
  width: 40%;
  height: 40%;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0));
  opacity: 0.85;
}

.titlePlanet::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 50%;
  background: radial-gradient(circle at 70% 70%, rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.55) 70%, rgba(0, 0, 0, 0.7) 100%);
  mix-blend-mode: multiply;
  opacity: 0.65;
}

.titleOrbits::before {
  content: "";
  position: absolute;
  inset: -30%;
  background:
    radial-gradient(55% 50% at 45% 45%, rgba(255, 92, 122, 0.35), rgba(0, 0, 0, 0) 70%),
    radial-gradient(50% 45% at 60% 40%, rgba(138, 92, 255, 0.32), rgba(0, 0, 0, 0) 72%),
    radial-gradient(55% 60% at 50% 60%, rgba(0, 255, 209, 0.28), rgba(0, 0, 0, 0) 74%),
    linear-gradient(120deg, rgba(255, 255, 255, 0), rgba(160, 220, 255, 0.25), rgba(255, 255, 255, 0));
  mix-blend-mode: screen;
  opacity: 0.75;
  filter: blur(26px);
  pointer-events: none;
}

.titleOrbitSvg {
  width: 100%;
  height: 100%;
  overflow: visible;
}

.titleOrbitGroup {
  transform-origin: 50% 50%;
  animation: orbitAxisSpin 22s linear infinite;
}

.titleOrbit {
  fill: none;
  stroke: url(#heroOrbitGrad);
  stroke-width: 1.9;
  opacity: 0.9;
  filter: drop-shadow(0 0 14px rgba(120, 220, 255, 0.65));
  animation: orbitPulse 6.4s ease-in-out infinite;
}

.titleOrbitAlt {
  opacity: 0.85;
  stroke-width: 1.6;
  stroke-dasharray: 10 14;
  stroke-dashoffset: 0;
  animation: orbitPulse 7.2s ease-in-out infinite;
}

.titleOrbitThin {
  opacity: 0.7;
  stroke-width: 1.2;
  stroke-dasharray: 5 11;
  stroke-dashoffset: 0;
  animation: orbitPulse 5.6s ease-in-out infinite;
}

.titleOrbitGroupAlt {
  transform-origin: 50% 50%;
  animation: orbitAxisSpinReverse 28s linear infinite;
}

.rootTendrils {
  position: absolute;
  left: 50%;
  bottom: calc(140px + env(safe-area-inset-bottom));
  width: min(1020px, 92vw);
  height: clamp(200px, 24vh, 340px);
  transform: translate3d(calc(var(--mx) * 0.7), calc(var(--my) * 0.7), 0) translateX(-50%) scale(var(--ui-scale));
  transform-origin: center bottom;
  pointer-events: none;
  z-index: 1;
}

.rootSvg {
  width: 100%;
  height: 100%;
  overflow: visible;
}

.rootLine {
  fill: none;
  stroke: rgba(170, 235, 255, 0.72);
  stroke-width: 1.1;
  stroke-linecap: round;
  filter: drop-shadow(0 0 6px rgba(120, 210, 255, 0.35));
  animation: rootPulse 4.6s ease-in-out infinite;
}

.rootLineAlt {
  stroke: rgba(150, 220, 255, 0.5);
  animation-delay: 0.8s;
}

.rootLineAltTwo {
  stroke: rgba(130, 210, 255, 0.45);
  animation-delay: 1.6s;
}

.rootSparks {
  position: absolute;
  inset: 0;
  pointer-events: none;
}

.rootGlow {
  position: absolute;
  left: 50%;
  bottom: 6%;
  width: min(720px, 70vw);
  height: clamp(120px, 18vh, 200px);
  transform: translateX(-50%);
  background:
    radial-gradient(50% 100% at 50% 100%, rgba(126, 231, 255, 0.6), rgba(8, 16, 28, 0) 70%),
    radial-gradient(40% 70% at 50% 100%, rgba(65, 224, 196, 0.45), rgba(8, 16, 28, 0) 72%);
  filter: blur(12px);
  opacity: 0.75;
  mix-blend-mode: screen;
}

.rootSpark {
  position: absolute;
  border-radius: 999px;
  background: radial-gradient(circle at 50% 50%, rgba(200, 250, 255, 0.9), rgba(120, 220, 255, 0.1));
  box-shadow: 0 0 10px rgba(120, 220, 255, 0.45);
  opacity: 0.5;
  animation: rootSpark 4.2s ease-in-out infinite;
  animation-delay: var(--spark-delay, 0s);
}

.rootFireflies {
  position: absolute;
  inset: 0;
  pointer-events: none;
}

.rootFirefly {
  position: absolute;
  border-radius: 999px;
  background: radial-gradient(circle, rgba(210, 255, 220, 0.9), rgba(120, 220, 180, 0.1));
  box-shadow: 0 0 14px rgba(120, 255, 200, 0.5);
  opacity: 0.6;
  animation: fireflyFloat 4.6s ease-in-out infinite, fireflyBlink 3.2s ease-in-out infinite;
  animation-delay: var(--fly-delay, 0s);
}

.orbitTitlePath {
  fill: none;
  stroke: rgba(120, 210, 255, 0.35);
  stroke-width: 2;
  stroke-linecap: round;
  filter: drop-shadow(0 0 10px rgba(120, 210, 255, 0.45));
  opacity: 0.75;
  animation: orbitLinePulse 4.6s ease-in-out infinite;
}

.orbitTitleOrbits {
  transform-origin: 50% 60%;
  animation: orbitTitleDrift 5.6s ease-in-out infinite;
}

.orbitTitleRing {
  fill: none;
  stroke: rgba(126, 231, 255, 0.45);
  stroke-width: 1.2;
  stroke-linecap: round;
  opacity: 0.75;
  filter: drop-shadow(0 0 10px rgba(126, 231, 255, 0.45));
  animation: orbitRingShimmer 5.2s ease-in-out infinite;
}

.orbitTitleRingInner {
  stroke: rgba(60, 203, 255, 0.35);
  opacity: 0.6;
  animation-delay: 0.6s;
}

.heroCenter {
  position: absolute;
  width: 14px;
  height: 14px;
  top: 62%;
  left: 50%;
  transform: translate(-50%, -50%);
  pointer-events: none;
}


.arcShell {
  position: absolute;
  inset: 0;
  pointer-events: auto;
  z-index: 48;
  transform-style: preserve-3d;
  overflow: visible;
}

.arcRow {
  position: absolute;
  inset: 0;
  pointer-events: auto;
}

.arcRowInner {
  z-index: 19;
}

.arcItem {
  position: absolute;
  left: 0;
  top: 0;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  transform:
    translate(-50%, -50%)
    translateY(var(--intro-lift, 0px))
    rotateZ(var(--nav-roll))
    scale(var(--nav-row-scale, 1));
  transform-style: preserve-3d;
  pointer-events: var(--intro-pointer, auto);
  z-index: 90;
  opacity: var(--intro-opacity, 1);
  transition: opacity 0.9s ease, transform 0.9s ease;
  transition-delay: var(--intro-delay, 0s);
  --shadow-opacity: 0.45;
  --shadow-blur: 18px;
  --shadow-offset: 4px;
}

.arcItem::after {
  content: "";
  position: absolute;
  left: 8%;
  right: 8%;
  bottom: -14px;
  height: 36px;
  background:
    radial-gradient(ellipse at center, rgba(6, 12, 20, 0.55) 0%, rgba(6, 12, 20, 0) 72%),
    radial-gradient(ellipse at center, rgba(120, 220, 255, 0.25) 0%, rgba(120, 220, 255, 0) 70%);
  filter: blur(var(--shadow-blur));
  opacity: var(--shadow-opacity);
  transform: translateY(calc(6px + var(--shadow-offset)));
  transition: opacity 140ms ease, transform 140ms ease, filter 140ms ease;
  pointer-events: none;
}

.arcItem:hover,
.arcItem:focus-within {
  --shadow-opacity: 0.5;
  --shadow-blur: 28px;
  --shadow-offset: 6px;
}

.navButton {
    --nav-pill-bg: linear-gradient(180deg, rgba(40, 140, 255, 0.68), rgba(8, 22, 40, 0.45) 70%);
    --nav-pill-border: rgba(120, 200, 255, 0.8);
    --nav-pill-border-hover: rgba(170, 235, 255, 0.95);
    --nav-pill-shadow: 0 18px 36px -22px rgba(20, 90, 180, 0.6), 0 0 24px rgba(80, 170, 255, 0.55);
    --nav-pill-shadow-hover: 0 24px 46px -22px rgba(35, 120, 210, 0.75), 0 0 40px rgba(120, 210, 255, 0.75);
    --nav-pill-text-shadow: 0 0 18px rgba(120, 210, 255, 0.75), 0 2px 12px rgba(0, 0, 0, 0.6);
    pointer-events: auto;
    position: relative;
    z-index: 90;
    cursor: pointer;
    border-radius: var(--nav-pill-radius);
    background: transparent;
    border: none;
    text-transform: uppercase;
    letter-spacing: 0.16em;
    color: rgba(235, 250, 255, 0.98);
    text-shadow: var(--nav-pill-text-shadow);
    text-align: center;
    line-height: 1.1;
    transition: transform 280ms cubic-bezier(0.22, 1, 0.36, 1), color 260ms ease, text-shadow 260ms ease;
    transform: translateY(0);
    will-change: transform;
  }

.homeTile {
  position: relative;
  border-radius: var(--nav-pill-radius);
  isolation: isolate;
}

.navButton :global(.homeTileInner) {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  border-radius: inherit;
  overflow: hidden;
  background: transparent;
  transform:
    translate3d(var(--mag-x, 0px), var(--mag-y, 0px), 0)
    rotateX(var(--tilt-x, 0deg))
    rotateY(var(--tilt-y, 0deg));
  transform-origin: center;
  transition: transform 160ms ease-out;
  will-change: transform;
  transform-style: preserve-3d;
  backface-visibility: hidden;
}

.navButton :global(.homeTileInner)::before {
    content: none;
    display: none;
  }

.navButton :global(.homeTileInner)::after {
  content: none;
  display: none;
}

.navButton :global(.homeTileLabel) {
  position: relative;
  z-index: 2;
  padding: 0 6px;
  transform: translateY(-1px);
  color: rgba(235, 250, 255, 1);
  text-shadow: var(--nav-pill-text-shadow);
}

.navButton :global(.homeTileSheen) {
  display: none;
}

.navButtonActive {
    color: rgba(255, 255, 255, 1);
  }

.navButtonActive::before {
    opacity: 1;
    background: linear-gradient(120deg, rgba(255, 255, 255, 0.75), rgba(255, 255, 255, 0.25));
    border-color: var(--nav-pill-border-hover);
    box-shadow: 0 0 28px rgba(255, 255, 255, 0.55), var(--nav-pill-shadow-hover);
  }

.arcButton {
  position: relative;
}

.arcButton::after {
  content: none;
}

.arcButtonOuter {
  z-index: 92;
  opacity: 0.94;
}

.arcButtonInner {
  z-index: 96;
  opacity: 1;
}

.arcButtonSingle {
  z-index: 94;
}

.mobileButton {
  letter-spacing: 0.12em;
}

.navButton::before {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background:
      linear-gradient(180deg, rgba(120, 210, 255, 0.6), rgba(20, 60, 120, 0.25) 62%),
      radial-gradient(120% 140% at 80% 20%, rgba(160, 230, 255, 0.35), rgba(255, 255, 255, 0) 70%),
      var(--nav-pill-bg);
    border: 1px solid var(--nav-pill-border);
    box-shadow:
      inset 0 1px 0 rgba(200, 240, 255, 0.45),
      inset 0 -18px 26px rgba(0, 0, 0, 0.45),
      var(--nav-pill-shadow);
    opacity: 0.95;
    transition: opacity 260ms ease, transform 260ms ease, border-color 260ms ease, background 260ms ease,
      box-shadow 260ms ease;
    pointer-events: none;
  }

.navButton::after {
    content: "";
    position: absolute;
    inset: -14%;
    border-radius: inherit;
    background: radial-gradient(60% 60% at 50% 40%, rgba(120, 220, 255, 0.75), rgba(10, 20, 35, 0));
    opacity: 0.45;
    filter: blur(16px);
    transition: opacity 260ms ease, filter 260ms ease, transform 260ms ease;
    mix-blend-mode: screen;
    pointer-events: none;
    animation: navPulse 7s ease-in-out infinite;
  }

.desktopNav {
  display: block;
  pointer-events: auto;
  position: absolute;
  inset: 0;
  z-index: 60;
}

.desktopRow {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 28px;
}

.desktopButton {
  min-width: 180px;
  max-width: 240px;
  white-space: normal;
  line-height: 1.15;
  text-align: center;
}

.navButton:hover,
.navButton:focus-visible {
    transform: translateY(-1px) scale(1.01);
    color: rgba(240, 255, 255, 1);
    text-shadow: 0 0 24px rgba(120, 210, 255, 0.85), var(--nav-pill-text-shadow);
  }

.navButton:hover::before,
.navButton:focus-visible::before {
    opacity: 1;
    background: linear-gradient(120deg, rgba(90, 190, 255, 0.9), rgba(40, 120, 220, 0.45));
    border-color: var(--nav-pill-border-hover);
    box-shadow: 0 0 32px rgba(120, 210, 255, 0.85), var(--nav-pill-shadow-hover);
  }

.navButton:hover::after,
.navButton:focus-visible::after {
    opacity: 0.95;
    filter: blur(8px);
    transform: scale(1.06);
  }

.navButton:hover :global(.homeTileInner)::before,
.navButton:focus-visible :global(.homeTileInner)::before {
    opacity: 1;
  }

.navButton:hover :global(.homeTileInner)::after,
.navButton:focus-visible :global(.homeTileInner)::after {
    box-shadow: none;
  }

.navButton:hover :global(.homeTileLabel),
.navButton:focus-visible :global(.homeTileLabel) {
    text-shadow: 0 0 20px rgba(255, 255, 255, 0.7), 0 2px 10px rgba(0, 0, 0, 0.6);
  }

.heroRoot[data-highlight="nadh"] .navButton[data-nav-key="nadh"],
.heroRoot[data-highlight="cabinets"] .navButton[data-nav-key="cabinets"] {
  --nav-scale: 1.02;
}

.heroRoot[data-nav-hover="true"] .orbitTitleWrap {
    opacity: 1;
  }

.heroRoot[data-nav-morph="true"] .orbitTitleWrap {
    top: 50%;
    transform: translate(-50%, -50%);
    opacity: 0.9;
    animation: none;
  }

.heroRoot[data-nav-morph="true"] .navMorphPulse {
  animation: navMorphPulse 1.15s cubic-bezier(0.22, 1, 0.36, 1) both;
}

.heroRoot[data-idle="true"] .navDock,
.heroRoot[data-idle="true"] .sideLinkLeft,
.heroRoot[data-idle="true"] .sideLinkRight {
  opacity: 0.6;
}

.heroRoot[data-idle="true"][data-nav-hover="true"] .navDock,
.heroRoot[data-idle="true"][data-nav-hover="true"] .sideLinkLeft,
.heroRoot[data-idle="true"][data-nav-hover="true"] .sideLinkRight {
  opacity: 0.85;
}

.heroBreath {
  position: absolute;
  left: 50%;
  bottom: 10%;
  width: min(900px, 92vw);
  height: clamp(180px, 26vh, 320px);
  transform: translateX(-50%);
  pointer-events: none;
  z-index: 9;
  background:
    radial-gradient(55% 100% at 50% 100%, rgba(120, 220, 255, 0.55), rgba(12, 24, 40, 0) 70%),
    radial-gradient(45% 80% at 50% 100%, rgba(65, 224, 196, 0.45), rgba(12, 24, 40, 0) 70%);
  mix-blend-mode: screen;
  filter: blur(18px);
  opacity: 0.45;
  animation: heroBreath 7.5s ease-in-out infinite;
}

.heroBreath::after {
  content: "";
  position: absolute;
  inset: -12% -8%;
  background: radial-gradient(50% 100% at 50% 100%, rgba(150, 235, 255, 0.55), rgba(12, 24, 40, 0) 72%);
  opacity: 0.35;
  filter: blur(22px);
  animation: heroBreath 9s ease-in-out infinite reverse;
}

.heroRoot[data-nav-hover="true"] .heroBreath {
  opacity: 0.75;
  filter: blur(14px);
}

.heroRoot[data-nav-hover="true"] .titleOrbit {
  opacity: 1;
}

.mobileNav {
  position: absolute;
  left: 0;
  right: 0;
  bottom: calc(18px + env(safe-area-inset-bottom));
  padding: 0 1rem;
  width: 100%;
  pointer-events: auto;
  z-index: 60;
}

.noScrollbar {
  scrollbar-width: none;
}

.noScrollbar::-webkit-scrollbar {
  display: none;
}

@media (max-width: 1023px) {
  .desktopNav {
    display: none;
  }

  .navRing {
    transform: none;
    --nav-label-tilt: 0deg;
  }
}

@media (min-width: 1024px) {
  .mobileNav {
    display: none;
  }
}

@media (max-width: 768px) {
  .heroRoot {
    --ui-scale: 0.9;
    --tree-scale: 1.7;
  }

  .navDock {
    transform: translateY(-90px);
  }

  .navDockItems {
    gap: 12px;
  }

  .titleOrbits {
    width: min(760px, 96vw);
    height: clamp(140px, 22vh, 220px);
  }

  .heroBreath {
    bottom: 12%;
    width: min(720px, 96vw);
    opacity: 0.38;
  }

  .scene {
    transform-origin: center top;
  }

  .treeStage {
    width: min(860px, 95vw);
    height: clamp(340px, 54vh, 600px);
    transform: translate(-50%, -50%) translateY(18px) scale(var(--tree-intro, 0.85));
  }

  .heroRoot[data-hero-intro="true"] .treeStage {
    transform: translate(-50%, -50%) translateY(18px) scale(1);
  }

  .treeBaseGlow {
    width: min(480px, 88vw);
    bottom: 14%;
  }

  .treeBaseRing {
    width: min(320px, 64vw);
    bottom: 20%;
  }

  .treeEnergyHalo {
    width: min(440px, 82vw);
    bottom: 20%;
  }

  .treeEnergyPulse {
    width: min(260px, 58vw);
    bottom: 22%;
  }

  .orbitTitleWrap {
    top: clamp(32px, 6vh, 96px);
  }

  .titleLine {
    font-size: clamp(24px, 6vw, 36px);
    letter-spacing: 0.18em;
  }

  .titleLineAccent {
    font-size: clamp(30px, 7.2vw, 44px);
    letter-spacing: 0.16em;
  }

  .titleOrbits {
    width: min(640px, 92vw);
    height: clamp(90px, 16vh, 150px);
  }

  .titlePlanetOrbit,
  .titlePlanetTrack {
    width: min(430px, 78vw);
    height: clamp(64px, 11vh, 100px);
    top: 50%;
    transform: translate(-50%, -50%) perspective(1400px) rotateX(62deg);
  }

  .rootTendrils {
    bottom: calc(112px + env(safe-area-inset-bottom));
    height: clamp(140px, 18vh, 220px);
  }

  .farCitySilhouette,
  .cityWindows,
  .midCitySilhouette,
  .midCityWindows {
    left: auto;
    right: -18%;
    bottom: 34%;
    width: min(720px, 160vw);
    height: clamp(110px, 16vh, 190px);
  }

  .farCitySilhouette {
    opacity: 0.7;
  }

  .cityWindows {
    opacity: 0.2;
  }

  .citySkyline {
    display: none;
  }

  .cityGlow {
    right: -10%;
    bottom: 33%;
    width: min(520px, 90vw);
  }

  .smokeHaze {
    right: -14%;
    bottom: 35%;
    width: min(560px, 96vw);
  }

  .fieldPlane,
  .mapOverlay,
  .riverPath,
  .mapGlowSweep {
    width: min(1200px, 220vw);
    height: clamp(380px, 70vh, 620px);
    bottom: -220px;
  }

  .fieldGlow {
    width: min(900px, 160vw);
    height: clamp(130px, 20vh, 220px);
    bottom: 16%;
  }

  .groundFog {
    width: min(1200px, 220vw);
    height: clamp(130px, 20vh, 220px);
    opacity: 0.4;
  }

  .sideLinkLeft,
  .sideLinkRight {
    top: 52%;
    gap: 24px;
    --side-object-width: clamp(150px, 34vw, 220px);
    --side-object-height: clamp(150px, 34vw, 220px);
    --side-row-height: clamp(150px, 34vw, 220px);
  }

  .sideLinkLeft {
    gap: 28px;
    --side-object-height: clamp(90px, 20vw, 140px);
  }

  .sideLabel,
  .sideLabelRu {
    letter-spacing: 0.16em;
  }

  .sideObjectLeft,
  .sideObjectRight {
    opacity: 0.55;
  }
}

@media (pointer: coarse) and (prefers-reduced-motion: no-preference) {
  .skyLayer,
  .skyHalf {
    animation: driftSlow 8s ease-in-out infinite;
  }

  .starsLayer,
  .stars {
    animation: driftStars 10s ease-in-out infinite;
  }

  .cityLayer {
    animation: driftSlow 9s ease-in-out infinite;
  }
}


@keyframes starTwinkle {
  0%,
  100% {
    opacity: 0.4;
  }
  50% {
    opacity: 1;
  }
}

@keyframes starFloat {
  0%,
  100% {
    transform: translate3d(var(--star-offset-x, 0px), var(--star-offset-y, 0px), 0);
  }
  50% {
    transform: translate3d(
      calc(var(--star-offset-x, 0px) + var(--star-float-x, 0px)),
      calc(var(--star-offset-y, 0px) + var(--star-float-y, 0px)),
      0
    );
  }
}

@keyframes contourPulse {
  0%,
  100% {
    opacity: var(--contour-opacity, 0.12);
    filter: drop-shadow(0 0 0 rgba(120, 220, 255, 0));
  }
  50% {
    opacity: calc(var(--contour-opacity, 0.12) + 0.2);
    filter: drop-shadow(0 0 10px rgba(120, 220, 255, 0.2));
  }
}

@keyframes orbitSpin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes orbitGlow {
  0%,
  100% {
    opacity: 0.65;
    text-shadow: 0 0 12px rgba(120, 210, 255, 0.45);
  }
  50% {
    opacity: 1;
    text-shadow: 0 0 18px rgba(120, 210, 255, 0.7);
  }
}

@keyframes orbitTitlePulse {
  0%,
  100% {
    opacity: 0.92;
    transform: translate(-50%, 0%) scale(1);
  }
  50% {
    opacity: 1;
    transform: translate(-50%, 0%) scale(1.015);
  }
}

@keyframes titleFlicker {
  0% {
    opacity: 0;
  }
  12% {
    opacity: 1;
  }
  18% {
    opacity: 0.2;
  }
  32% {
    opacity: 1;
  }
  38% {
    opacity: 0.4;
  }
  52% {
    opacity: 1;
  }
  100% {
    opacity: 1;
  }
}

@keyframes orbitLinePulse {
  0%,
  100% {
    opacity: 0.55;
  }
  50% {
    opacity: 0.95;
  }
}

@keyframes rootPulse {
  0%,
  100% {
    opacity: 0.35;
  }
  50% {
    opacity: 0.8;
  }
}

@keyframes orbitPulse {
  0%,
  100% {
    opacity: 0.6;
    filter: drop-shadow(0 0 12px rgba(90, 190, 255, 0.35));
  }
  50% {
    opacity: 1;
    filter: drop-shadow(0 0 20px rgba(120, 210, 255, 0.65));
  }
}

@keyframes buttonPulse {
  0%,
  100% {
    opacity: 0.45;
    transform: translate3d(0, 0, var(--shadow-z, 0px)) scale(0.98);
  }
  50% {
    opacity: 0.85;
    transform: translate3d(0, 3px, var(--shadow-z, 0px)) scale(1.04);
  }
}

@keyframes starPulse {
  0%,
  100% {
    opacity: 0.7;
    transform: scale(0.96);
  }
  50% {
    opacity: 1;
    transform: scale(1.04);
  }
}

@keyframes orbitRingShimmer {
  0%,
  100% {
    opacity: 0.6;
  }
  50% {
    opacity: 1;
  }
}

@keyframes orbitDash {
  from {
    stroke-dashoffset: 0;
  }
  to {
    stroke-dashoffset: -140;
  }
}

@keyframes orbitTitleDrift {
  0%,
  100% {
    transform: rotate(-0.5deg);
  }
  50% {
    transform: rotate(0.6deg);
  }
}

@keyframes heroBreath {
  0%,
  100% {
    opacity: 0.35;
    transform: translateX(-50%) scale(0.98);
  }
  50% {
    opacity: 0.85;
    transform: translateX(-50%) scale(1.05);
  }
}

@keyframes navWiresFlow {
  0% {
    background-position: 0% 50%, 0% 50%, 0% 50%;
  }
  100% {
    background-position: 120% 50%, 120% 50%, 120% 50%;
  }
}

@keyframes navMorphPulse {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.92);
  }
  30% {
    opacity: 0.9;
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(1.08);
  }
}

@keyframes driftSlow {
  0%,
  100% {
    transform: translate3d(-6px, 4px, 0);
  }
  50% {
    transform: translate3d(6px, -4px, 0);
  }
}

@keyframes driftStars {
  0%,
  100% {
    transform: translate3d(-10px, 8px, 0);
  }
  50% {
    transform: translate3d(10px, -8px, 0);
  }
}

@keyframes orbitSpinSlow {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes orbitSpinReverse {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(-360deg);
  }
}

@keyframes orbitAxisSpin {
  from {
    transform: rotateZ(0deg);
  }
  to {
    transform: rotateZ(360deg);
  }
}

@keyframes orbitAxisSpinReverse {
  from {
    transform: rotateZ(0deg);
  }
  to {
    transform: rotateZ(-360deg);
  }
}

@keyframes planetOrbitSpin {
  from {
    transform: rotateZ(0deg);
  }
  to {
    transform: rotateZ(360deg);
  }
}

@keyframes planetDepth {
  0% {
    opacity: 1;
    transform: translateY(-50%) scale(1.08);
    filter: blur(0);
  }
  25% {
    opacity: 0.82;
    transform: translateY(-50%) scale(0.98);
  }
  50% {
    opacity: 0.6;
    transform: translateY(-50%) scale(0.9);
    filter: blur(0.6px);
  }
  75% {
    opacity: 0.82;
    transform: translateY(-50%) scale(0.98);
  }
  100% {
    opacity: 1;
    transform: translateY(-50%) scale(1.08);
    filter: blur(0);
  }
}

@keyframes orbitWobble {
  0%,
  100% {
    opacity: 0.45;
    transform: rotate(-0.4deg);
  }
  50% {
    opacity: 0.8;
    transform: rotate(0.6deg);
  }
}

@keyframes capsuleDrift {
  0%,
  100% {
    transform: rotate(var(--side-rot)) translate3d(0, 0, 0) scale(1);
  }
  50% {
    transform: rotate(calc(var(--side-rot) + 1.8deg)) translate3d(0, -10px, 0) scale(1.02);
  }
}

@keyframes starDrift {
  0%,
  100% {
    transform: translate3d(0, 0, 0) scale(1);
  }
  50% {
    transform: translate3d(0, -8px, 0) scale(1.03);
  }
}

@keyframes rootSpark {
  0%,
  100% {
    opacity: 0.35;
    transform: translate3d(0, 0, 0) scale(0.85);
  }
  50% {
    opacity: 0.9;
    transform: translate3d(6px, -6px, 0) scale(1.1);
  }
}

@keyframes baseRingPulse {
  0%,
  100% {
    opacity: 0.55;
    transform: translateX(-50%) rotateX(70deg) scale(0.96);
  }
  50% {
    opacity: 0.9;
    transform: translateX(-50%) rotateX(70deg) scale(1.03);
  }
}

@keyframes cityPulse {
  0%,
  100% {
    opacity: 0.75;
  }
  50% {
    opacity: 1;
  }
}

@keyframes cityFlicker {
  0%,
  100% {
    opacity: 0.6;
  }
  40% {
    opacity: 1;
  }
  70% {
    opacity: 0.7;
  }
}

@keyframes cityWindowFlicker {
  0%,
  100% {
    opacity: 0.12;
  }
  20% {
    opacity: 0.2;
  }
  42% {
    opacity: 0.15;
  }
  68% {
    opacity: 0.22;
  }
  84% {
    opacity: 0.16;
  }
}

@keyframes cityEmber {
  0%,
  100% {
    opacity: 0.45;
    transform: translate3d(0, 0, 0);
  }
  50% {
    opacity: 0.75;
    transform: translate3d(0, -4px, 0);
  }
}

@keyframes hazeDrift {
  0%,
  100% {
    opacity: 0.45;
  }
  50% {
    opacity: 0.72;
  }
}

@keyframes groundFogDrift {
  0%,
  100% {
    opacity: 0.45;
    transform: translate3d(calc(var(--mx) * 0.5), calc(var(--my) * 0.35), 0) translateX(-50%);
  }
  50% {
    opacity: 0.68;
    transform: translate3d(calc(var(--mx) * 0.6), calc(var(--my) * 0.25), 0) translateX(-50%);
  }
}

@keyframes fieldScan {
  0% {
    transform: translateY(28%);
    opacity: 0;
  }
  25% {
    opacity: 0.35;
  }
  55% {
    opacity: 0.6;
  }
  100% {
    transform: translateY(-40%);
    opacity: 0;
  }
}

@keyframes mapGlowSweep {
  0% {
    opacity: 0;
    background-position: -40% 0%;
  }
  30% {
    opacity: 0.12;
  }
  60% {
    opacity: 0.18;
  }
  100% {
    opacity: 0;
    background-position: 140% 0%;
  }
}

@keyframes fieldMapSweep {
  0% {
    background-position: center center, 50% 140%;
    opacity: 0;
  }
  22% {
    opacity: 0.35;
  }
  58% {
    opacity: 0.6;
  }
  100% {
    background-position: center center, 50% -40%;
    opacity: 0;
  }
}

@keyframes energyHaloPulse {
  0%,
  100% {
    opacity: 0.6;
    filter: blur(12px);
  }
  50% {
    opacity: 0.85;
    filter: blur(10px);
  }
}

@keyframes energyPulse {
  0%,
  100% {
    opacity: 0.6;
    box-shadow: 0 0 18px rgba(120, 220, 255, 0.3);
  }
  50% {
    opacity: 0.9;
    box-shadow: 0 0 28px rgba(120, 220, 255, 0.5);
  }
}

@keyframes fireflyFloat {
  0%,
  100% {
    transform: translate3d(0, 0, 0) scale(0.9);
  }
  50% {
    transform: translate3d(8px, -10px, 0) scale(1.1);
  }
}

@keyframes fireflyBlink {
  0%,
  100% {
    opacity: 0.4;
  }
  50% {
    opacity: 1;
  }
}

@media (prefers-reduced-motion: reduce) {
  /* Reduce-motion: keep fades, drop flashes/flicker/pulses. */
  .heroVideo {
    animation: none !important;
  }

  .titleOrbit,
  .titleOrbitGroup,
  .titleOrbitGroupAlt,
  .titleOrbitAlt,
  .titleOrbitThin,
  .titlePlanetSpin,
  .titlePlanet,
  .orbitTitleWrap,
  .titleLine,
  .contourLine,
  .star,
  .starParticle,
  .treeBaseRing,
  .treeEnergyHalo,
  .treeEnergyPulse,
  .treeStage,
  .treeGlow,
  .treeOrbitGroup,
  .treeOrbit,
  .treeOrbitAlt,
  .treeOrbitThin,
  .cityWindows,
  .midCityWindows,
  .cityGlow,
  .smokeHaze,
  .cityLights,
  .fieldPlane::after,
  .mapGlowSweep,
  .groundFog,
  .sideObjectLeft,
  .sideObjectRight,
  .rootSpark,
  .rootFirefly {
    animation: none !important;
  }

  .treeStage,
  .treeGlow,
  .titleLine {
    transition: none !important;
  }

  .navButton::after {
    animation: none !important;
  }

  .heroBreath,
  .navDockWires,
  .navMorphPulse {
    animation: none !important;
  }

  .titleOrbits::before {
    display: none;
  }

  .navButton :global(.homeTileInner) {
    transition: none !important;
    transform: none !important;
  }

  .navButton :global(.homeTileSheen) {
    display: none;
  }
}
.title {
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, "Noto Sans", "Noto Sans Display", sans-serif;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  color: rgba(220, 245, 255, 0.92);
  text-shadow: 0 0 18px rgba(120, 220, 255, 0.35);
  position: absolute;
  top: clamp(28px, 8vh, 120px);
  left: 50%;
  transform: translateX(-50%);
  margin: 0;
  z-index: 30;
  pointer-events: none;
}

@media (max-width: 768px) {
  .heroRoot[data-nav-morph="true"] .orbitTitleWrap {
    top: 50%;
    transform: translate(-50%, -50%);
  }
}
